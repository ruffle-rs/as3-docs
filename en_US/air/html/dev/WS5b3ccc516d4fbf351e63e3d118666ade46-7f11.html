<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="en-us" name="lang"/>
  <meta content="livedocs" name="area"/>
  <title>
   Adobe Flash Platform * HTML security in Adobe AIR
  </title>
  <link href="images/AIR.ico" rel="shortcut icon"/>
  <meta content="HTML Developer’s Guide for Adobe AIR" name="book"/>
  <meta content="adobe" name="product"/>
  <meta content="air" name="product"/>
  <meta content="flash" name="product"/>
  <meta content="flex" name="product"/>
  <meta content="" name="keywords"/>
  <!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="HTML Developer’s Guide for Adobe AIR"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
  <script charset="UTF-8" language="Javascript" type="text/javascript">
   <!--[CDATA[
        var currentTreeNode = "WS5b3ccc516d4fbf351e63e3d118666ade46-7fa3.html";
// ]]-->
  </script>
  <script charset="UTF-8" language="Javascript" src="terms.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="help.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="utilities.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="event.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="treeview.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="toc.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="swfobject.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="booklist.js" type="text/javascript">
   ..
  </script>
  <script type="text/javascript">
   <!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
  </script>
  
<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->


  
  
  <link href="tree.css" rel="stylesheet" type="text/css"/>
  <link href="content.css" rel="stylesheet" type="text/css"/>
  <link href="localeSpecific.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="content_body" onload="window.focus();">
  <a name="top" shape="rect">
   <!--LeaveCommentHere-->
  </a>
  <div id="mnemonic">
   <!--googleoff: index-->
   <div class="AIR" xmlns:adobe="http://www.adobe.com/saxon">
    <div class="banner">
     <a href="WS9936fa0d5984e93b-3d590ddd1272a3584c3-8000.html">
      Adobe Flash Platform
     </a>
    </div>
   </div>
   <!--googleon: index-->
  </div>
  <div id="searchbar">
   <table id="searchbartable">
    <tr>
     <td colspan="2">
      <!--googleoff: index-->
      <div xmlns:adobe="http://www.adobe.com/saxon">
       <div id="pdf">
        <img height="16" src="images/PDF.gif" width="16"/>
        <a href="air_htmldevguide.pdf" title="View Help PDF">
         View Help PDF (
         5.8M
         B)
        </a>
       </div>
      </div>
      <!--googleon: index-->
     </td>
    </tr>
   </table>
  </div>
  <!-- BEGIN SEARCH CONTENT -->
  <form action="https://help.adobe.com/en_US/air/html/dev/search.html" id="search" name="search" target="_self">
   <script type="text/javascript">
    <!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
}

// ]]-->
   </script>
  </form>
  <!-- END SEARCH CONTENT -->
  <!-- BEGIN PAGE CONTENT WRAPPER -->
  <div id="page_content_wrapper">
   <!-- BEGIN PAGE WRAPPER -->
   <table id="page_content_table">
    <tr>
     
     <td id="col2">
      <!-- BEGIN CONTENT WRAPPER -->
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e5f.html" title="Installation and updates">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e5c.html" title="Scripting between content in different domains">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b-3d590ddd1272a3584c3-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b-3d590ddd1272a3584c3-8000.html">
         <b>
          HTML Developer’s Guide for Adobe AIR
         </b>
        </a>
        /
        <a href="WS789ea67d3e73a8b25a82c84b1242c147a70-8000.html">
         <b>
          AIR development basics
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7d23.html">
         <b>
          Security
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7fa3.html">
         <b>
          AIR security
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <div id="content_wrapper">
       <!-- BEGIN PAGE TITLE -->
       <h1>
        HTML security in Adobe AIR
       </h1>
       <p class="adoberuntime">
        Adobe AIR 1.0 and later
       </p>
       <!-- END PAGE TITLE -->
       <!-- BEGIN IONCOMMENTCOUNT -->
       <div id="ionCount">
       </div>
       <!-- END IONCOMMENTCOUNT -->
       <table border="0" cellpadding="0" cellspacing="0" id="inner_content_table" width="100%">
        <tr>
         <td>
          <div style="border-top:#ccc solid 1px;">
           <p>
           </p>
          </div>
          <p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>


          <div id="minitoc">
           <div class="t">
            <div class="b">
             <div>
              <ul id="minitoc-links">
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7e40">
                  <span class="topictitle1">
                   Overview on configuring your HTML-based application
                  </span>
                 </a>
                </p>
                <ul>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fea">
                    <span class="topictitle2">
                     Setting up a parent-child sandbox relationship
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe9">
                    <span class="topictitle2">
                     Setting up a bridge between parent and child frames in different sandboxes or domains
                    </span>
                   </a>
                  </p>
                 </li>
                </ul>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7eea">
                  <span class="topictitle1">
                   Code restrictions for content in different sandboxes
                  </span>
                 </a>
                </p>
                <ul>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe7">
                    <span class="topictitle2">
                     Restrictions on using the JavaScript eval() function and similar techniques
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe6">
                    <span class="topictitle2">
                     Restrictions on access to AIR APIs (for non-application sandboxes)
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe5">
                    <span class="topictitle2">
                     Restrictions on using XMLHttpRequest calls
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe4">
                    <span class="topictitle2">
                     Restrictions on loading CSS, frame, iframe, and img elements (for content in non-application sandboxes)
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7e91">
                    <span class="topictitle2">
                     Restrictions on calling the JavaScript window.open() method
                    </span>
                   </a>
                  </p>
                 </li>
                 <li>
                  <p>
                   <a href="#WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe2">
                    <span class="topictitle2">
                     Errors when calling restricted code
                    </span>
                   </a>
                  </p>
                 </li>
                </ul>
               </li>
               <li>
                <p>
                 <a href="#WSD9670697-56E4-45de-9787-E5F035EF7AF8">
                  <span class="topictitle1">
                   Sandbox protection when loading HTML content from a string
                  </span>
                 </a>
                </p>
               </li>
              </ul>
             </div>
            </div>
           </div>
          </div>
          <div>
           <p>
            This topic describes the AIR HTML security architecture and how
to use iframes, frames, and the sandbox bridge to set up HTML-based
applications and safely integrate HTML content into SWF-based applications.
           </p>
           <p>
            The
runtime enforces rules and provides mechanisms for overcoming possible security
vulnerabilities in HTML and JavaScript. The same rules are enforced whether
your application is primarily written in JavaScript or whether you
load the HTML and JavaScript content into a SWF-based application.
Content in the application sandbox and the non-application security
sandbox have different privileges. When loading content into an
iframe or frame, the runtime provides a secure
            <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
             sandbox bridge
            </i>
            mechanism
that allows content in the frame or iframe to communicate securely
with content in the application security sandbox.
           </p>
           <p>
            The AIR SDK provides three classes for rendering HTML content.
           </p>
           <p>
            The HTMLLoader class provides close integration between JavaScript
code and the AIR APIs.
           </p>
           <p>
            The StageWebView class is an HTML rendering class and has very
limited integration with the host AIR application. Content loaded
by the StageWebView class is never placed in the application security
sandbox and cannot access data or call functions in the host AIR
application. On desktop platforms, the StageWebView class uses the
built-in AIR HTML engine, based on Webkit, which is also used by
the HTMLLoader class. On mobile platforms, the StageWebView class uses
the HTML control provided by the operating system. Thus, on mobile platforms
the StageWebView class has the same security considerations and vulnerabilities
as the system web browser.
           </p>
           <p>
            The TextField class can display strings of HTML text. No JavaScript
can be executed, but the text can include links and externally loaded
images.
           </p>
           <p>
            For more information, see
            <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f0e.html">
             Avoiding security-related JavaScript errors
            </a>
            .
           </p>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7e40">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7e40">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Overview on configuring your HTML-based application
           </h2>
           <div>
            <p>
             Frames and iframes provide a convenient structure for organizing
HTML content in AIR. Frames provide a means both for maintaining
data persistence and for working securely with remote content.
            </p>
            <p>
             Because HTML in AIR retains its normal, page-based organization,
the HTML environment completely refreshes if the top frame of your
HTML content “navigates” to a different page. You can use frames
and iframes to maintain data persistence in AIR, much the same as
you would for a web application running in a browser. Define your
main application objects in the top frame and they persist as long
as you don’t allow the frame to navigate to a new page. Use child
frames or iframes to load and display the transient parts of the
application. (There are a variety of ways to maintain data persistence
that can be used in addition to, or instead of, frames. These include
cookies, local shared objects, local file storage, the encrypted
file store, and local database storage.)
            </p>
            <p>
             Because HTML in AIR retains its normal, blurred line between
executable code and data, AIR puts content in the top frame of the
HTML environment into the application sandbox. After the page
             <samp class="codeph">
              load
             </samp>
             event,
AIR restricts any operations, such as
             <samp class="codeph">
              eval()
             </samp>
             , that
can convert a string of text into an executable object. This restriction
is enforced even when an application does not load remote content. To
allow HTML content to execute these restricted operations, you must
use frames or iframes to place the content into a non-application
sandbox. (Running content in a sandboxed child frame may be necessary
when using some JavaScript application frameworks that rely on the
             <samp class="codeph">
              eval()
             </samp>
             function.)
For a complete list of the restrictions on JavaScript in the application
sandbox, see
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7eea.html">
              Code restrictions for content in different sandboxes
             </a>
             .
            </p>
            <p>
             Because HTML in AIR retains its ability to load remote, possibly
insecure content, AIR enforces a same-origin policy that prevents
content in one domain from interacting with content in another.
To allow interaction between application content and content in
another domain, you can set up a bridge to serve as the interface
between a parent and a child frame.
            </p>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fea">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fea">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Setting up a parent-child sandbox relationship
            </h3>
            <div>
             <p>
              AIR adds the
              <samp class="codeph">
               sandboxRoot
              </samp>
              and
              <samp class="codeph">
               documentRoot
              </samp>
              attributes
to the HTML frame and iframe elements. These attributes let you
treat application content as if it came from another domain:
             </p>
             <div class="tablenoborder">
              <table border="1" cellpadding="4" cellspacing="0">
               <thead align="left">
                <tr>
                 <th id="d17e7900" valign="top" width="NaN%">
                  <p>
                   Attribute
                  </p>
                 </th>
                 <th id="d17e7903" valign="top" width="NaN%">
                  <p>
                   Description
                  </p>
                 </th>
                </tr>
               </thead>
               <tbody>
                <tr>
                 <td headers="d17e7900 " valign="top" width="NaN%">
                  <p>
                   sandboxRoot
                  </p>
                 </td>
                 <td headers="d17e7903 " valign="top" width="NaN%">
                  <p>
                   The URL to use for determining the sandbox
and domain in which to place the frame content. The
                   <samp class="codeph">
                    file:
                   </samp>
                   ,
                   <samp class="codeph">
                    http:
                   </samp>
                   ,
or
                   <samp class="codeph">
                    https:
                   </samp>
                   URL schemes must be used.
                  </p>
                 </td>
                </tr>
                <tr>
                 <td headers="d17e7900 " valign="top" width="NaN%">
                  <p>
                   documentRoot
                  </p>
                 </td>
                 <td headers="d17e7903 " valign="top" width="NaN%">
                  <p>
                   The URL from which to load the frame content.
The
                   <samp class="codeph">
                    file:
                   </samp>
                   ,
                   <samp class="codeph">
                    app:
                   </samp>
                   , or
                   <samp class="codeph">
                    app-storage:
                   </samp>
                   URL
schemes must be used.
                  </p>
                 </td>
                </tr>
               </tbody>
              </table>
             </div>
             <p>
              The following example maps content installed in the sandbox subdirectory
of the application to run in the remote sandbox and the www.example.com
domain:
             </p>
             <pre>&lt;iframe 
    src="ui.html"  
    sandboxRoot="http://www.example.com/local/"  
    documentRoot="app:/sandbox/"&gt; 
&lt;/iframe&gt;</pre>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe9">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe9">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Setting up a bridge between parent and child frames in different sandboxes or domains
            </h3>
            <div>
             <p>
              AIR
adds the
              <samp class="codeph">
               childSandboxBridge
              </samp>
              and
              <samp class="codeph">
               parentSandboxBridge
              </samp>
              properties
to the
              <samp class="codeph">
               window
              </samp>
              object of any child frame. These
properties let you define bridges to serve as interfaces between
a parent and a child frame. Each bridge goes in one direction:
             </p>
             <p>
              <samp class="codeph">
               childSandboxBridge
              </samp>
              — The
              <samp class="codeph">
               childSandboxBridge
              </samp>
              property
allows the child frame to expose an interface to content in the
parent frame. To expose an interface, you set the
              <samp class="codeph">
               childSandbox
              </samp>
              property
to a function or object in the child frame. You can then access
the object or function from content in the parent frame. The following
example shows how a script running in a child frame can expose an
object containing a function and a property to its parent:
             </p>
             <pre>var interface = {}; 
interface.calculatePrice = function(){ 
    return .45 + 1.20; 
} 
interface.storeID = "abc" 
window.childSandboxBridge = interface;</pre>
             <p>
              If this child content is in an iframe assigned an
              <samp class="codeph">
               id
              </samp>
              of
              <samp class="codeph">
               "child"
              </samp>
              ,
you can access the interface from parent content by reading the
              <samp class="codeph">
               childSandboxBridge
              </samp>
              property
of the frame:
             </p>
             <pre>var childInterface = document.getElementById("child").childSandboxBridge; 
air.trace(childInterface.calculatePrice()); //traces "1.65" 
air.trace(childInterface.storeID)); //traces "abc"</pre>
             <p>
              <samp class="codeph">
               parentSandboxBridge
              </samp>
              — The
              <samp class="codeph">
               parentSandboxBridge
              </samp>
              property
allows the parent frame to expose an interface to content in the
child frame. To expose an interface, you set the
              <samp class="codeph">
               parentSandbox
              </samp>
              property
of the child frame to a function or object in the parent frame.
You can then access the object or function from content in the child
frame. The following example shows how a script running in the parent
frame can expose an object containing a save function to a child:
             </p>
             <pre>var interface = {}; 
interface.save = function(text){ 
    var saveFile = air.File("app-storage:/save.txt"); 
    //write text to file 
} 
document.getElementById("child").parentSandboxBridge = interface;</pre>
             <p>
              Using this interface, content in the child frame could save text
to a file named save.txt. However, it would not have any other access
to the file system. In general, application content should expose
the narrowest possible interface to other sandboxes. The child content
could call the save function as follows:
             </p>
             <pre>var textToSave = "A string."; 
window.parentSandboxBridge.save(textToSave);</pre>
             <p>
              If child content attempts to set a property of the
              <samp class="codeph">
               parentSandboxBridge
              </samp>
              object,
the runtime throws a SecurityError exception. If parent content
attempts to set a property of the
              <samp class="codeph">
               childSandboxBridge
              </samp>
              object,
the runtime throws a SecurityError exception.
             </p>
            </div>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7eea">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7eea">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Code restrictions for content in different sandboxes
           </h2>
           <div>
            <p>
             As discussed in the introduction to this
topic,
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f11.html">
              HTML security in Adobe AIR
             </a>
             , the runtime enforces rules and provides
mechanisms for overcoming possible security vulnerabilities in HTML
and JavaScript. This topic lists those restrictions. If code attempts
to call these restricted APIs, the runtime throws an error with
the message “Adobe AIR runtime security violation for JavaScript
code in the application security sandbox.”
            </p>
            <p>
             For more information, see
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f0e.html">
              Avoiding security-related JavaScript errors
             </a>
             .
            </p>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe7">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe7">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Restrictions on using the JavaScript eval() function and similar techniques
            </h3>
            <div>
             <p>
              For
HTML content in the application security sandbox, there are limitations
on using APIs that can dynamically transform strings into executable
code after the code is loaded (after the
              <samp class="codeph">
               onload
              </samp>
              event
of the
              <samp class="codeph">
               body
              </samp>
              element has been dispatched and the
              <samp class="codeph">
               onload
              </samp>
              handler
function has finished executing). This is to prevent the application
from inadvertently injecting (and executing) code from non-application
sources (such as potentially insecure network domains).
             </p>
             <p>
              For example, if your application uses string data from a remote
source to write to the innerHTML property of a DOM element, the
string could include executable (JavaScript) code that could perform
insecure operations. However, while the content is loading, there
is no risk of inserting remote strings into the DOM.
             </p>
             <p>
              One restriction is in the use of
the JavaScript
              <samp class="codeph">
               eval()
              </samp>
              function. Once code in the application
sandbox is loaded and after processing of the onload event handler, you
can only use the
              <samp class="codeph">
               eval()
              </samp>
              function in limited ways.
The following rules apply to the use of the
              <samp class="codeph">
               eval()
              </samp>
              function
              <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
               after
              </i>
              code
is loaded from the application security sandbox:
             </p>
             <ul>
              <li>
               <p>
                Expressions involving literals are allowed. For example:
               </p>
               <pre>eval("null"); 
eval("3 + .14"); 
eval("'foo'");</pre>
              </li>
              <li>
               <p>
                Object
literals are allowed, as in the following:
               </p>
               <pre>{ prop1: val1, prop2: val2 }</pre>
              </li>
              <li>
               <p>
                Object literal setter/getters are
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited
                </i>
                , as in
the following:
               </p>
               <pre>{ get prop1() { ... }, set prop1(v) { ... } }</pre>
              </li>
              <li>
               <p>
                Array literals are allowed, as in the following:
               </p>
               <pre>[ val1, val2, val3 ]</pre>
              </li>
              <li>
               <p>
                Expressions involving property reads are
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited
                </i>
                ,
as in the following:
               </p>
               <pre>a.b.c</pre>
              </li>
              <li>
               <p>
                Function invocation is
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited.
                </i>
               </p>
              </li>
              <li>
               <p>
                Function definitions are
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited.
                </i>
               </p>
              </li>
              <li>
               <p>
                Setting any property is
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited.
                </i>
               </p>
              </li>
              <li>
               <p>
                Function literals are
                <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
                 prohibited
                </i>
                .
               </p>
              </li>
             </ul>
             <p>
              However, while the code is loading, before the
              <samp class="codeph">
               onload
              </samp>
              event,
and during execution the
              <samp class="codeph">
               onload
              </samp>
              event handler function,
these restrictions do not apply to content in the application security
sandbox.
             </p>
             <p>
              For example, after code is loaded, the following code results
in the runtime throwing an exception:
             </p>
             <pre>eval("alert(44)"); 
eval("myFunction(44)"); 
eval("NativeApplication.applicationID");</pre>
             <p>
              Dynamically generated code, such as that which is made when calling
the
              <samp class="codeph">
               eval()
              </samp>
              function, would pose a security risk
if allowed within the application sandbox. For example, an application
may inadvertently execute a string loaded from a network domain,
and that string may contain malicious code. For example, this could
be code to delete or alter files on the user’s computer. Or it could
be code that reports back the contents of a local file to an untrusted network
domain.
             </p>
             <p>
              Ways to generate dynamic code are the following:
             </p>
             <ul>
              <li>
               <p>
                Calling the
                <samp class="codeph">
                 eval()
                </samp>
                function.
               </p>
              </li>
              <li>
               <p>
                Using
                <samp class="codeph">
                 innerHTML
                </samp>
                properties
or DOM functions to insert script tags that load a script outside
of the application directory.
               </p>
              </li>
              <li>
               <p>
                Using
                <samp class="codeph">
                 innerHTML
                </samp>
                properties or DOM functions
to insert script tags that have inline code (rather than loading
a script via the
                <samp class="codeph">
                 src
                </samp>
                attribute).
               </p>
              </li>
              <li>
               <p>
                Setting
the
                <samp class="codeph">
                 src
                </samp>
                attribute for a
                <samp class="codeph">
                 script
                </samp>
                tags
to load a JavaScript file that is outside of the application directory.
               </p>
              </li>
              <li>
               <p>
                Using
the
                <samp class="codeph">
                 javascript
                </samp>
                URL scheme (as in
                <samp class="codeph">
                 href="javascript:alert('Test')"
                </samp>
                ).
               </p>
              </li>
              <li>
               <p>
                Using
the
                <samp class="codeph">
                 setInterval()
                </samp>
                or
                <samp class="codeph">
                 setTimout()
                </samp>
                function
where the first parameter (defining the function to run asynchronously)
is a string (to be evaluated) rather than a function name (as in
                <samp class="codeph">
                 setTimeout('x = 4', 1000)
                </samp>
                ).
               </p>
              </li>
              <li>
               <p>
                Calling
                <samp class="codeph">
                 document.write()
                </samp>
                or
                <samp class="codeph">
                 document.writeln()
                </samp>
                .
               </p>
              </li>
             </ul>
             <p>
              Code in the application security sandbox can only use these methods
while content is loading.
             </p>
             <p>
              These restrictions do
              <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
               not
              </i>
              prevent using
              <samp class="codeph">
               eval()
              </samp>
              with
JSON object literals. This lets your application content work with
the JSON JavaScript library. However, you are restricted from using
overloaded JSON code (with event handlers).
             </p>
             <p>
              For
other Ajax frameworks and JavaScript code libraries, check to see
if the code in the framework or library works within these restrictions
on dynamically generated code. If they do not, include any content
that uses the framework or library in a non-application security
sandbox. For details, see
              <a href="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fee.html">
               Restrictions for JavaScript inside AIR
              </a>
              and
              <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e3b.html">
               Scripting between application and non-application content
              </a>
              . Adobe maintains
a list of Ajax frameworks known to support the application security
sandbox, at
              <a href="http://www.adobe.com/products/air/develop/ajax/features/" target="_self">
               http://www.adobe.com/products/air/develop/ajax/features/
              </a>
              .
             </p>
             <p>
              Unlike content in the application security sandbox, JavaScript
content in a non-application security sandbox
              <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
               can
              </i>
              call the
              <samp class="codeph">
               eval()
              </samp>
              function
to execute dynamically generated code at any time.
             </p>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe6">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe6">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Restrictions on access to AIR APIs (for non-application sandboxes)
            </h3>
            <div>
             <p>
              JavaScript
code in a non-application sandbox does not have access to the
              <samp class="codeph">
               window.runtime
              </samp>
              object,
and as such this code cannot execute AIR APIs. If content in a non-application
security sandbox calls the following code, the application throws
a TypeError exception:
             </p>
             <pre>try { 
    window.runtime.flash.system.NativeApplication.nativeApplication.exit(); 
}  
catch (e)  
{ 
    alert(e); 
}</pre>
             <p>
              The exception type is TypeError (undefined value), because content
in the non-application sandbox does not recognize the
              <samp class="codeph">
               window.runtime
              </samp>
              object,
so it is seen as an undefined value.
             </p>
             <p>
              You can expose runtime functionality to content in a non-application
sandbox by using a script bridge. For details, see and
              <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e3b.html">
               Scripting between application and non-application content
              </a>
              .
             </p>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe5">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe5">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Restrictions on using XMLHttpRequest calls
            </h3>
            <div>
             <p>
              HTML content in the application security
sandbox cannot use synchronous XMLHttpRequest methods to load data
from outside of the application sandbox while the HTML content is
loading and during
              <samp class="codeph">
               onLoad
              </samp>
              event.
             </p>
             <p>
              By default, HTML content in non-application security sandboxes
are not allowed to use the JavaScript XMLHttpRequest object to load
data from domains other than the domain calling the request. A
              <samp class="codeph">
               frame
              </samp>
              or
              <samp class="codeph">
               iframe
              </samp>
              tag
can include an
              <samp class="codeph">
               allowcrosscomainxhr
              </samp>
              attribute. Setting
this attribute to any non-null value allows the content in the frame
or iframe to use the JavaScript XMLHttpRequest object to load data
from domains other than the domain of the code calling the request:
             </p>
             <pre>&lt;iframe id="UI" 
    src="http://example.com/ui.html" 
    sandboxRoot="http://example.com/" 
    <strong>allowcrossDomainxhr="true"</strong> 
    documentRoot="app:/"&gt; 
&lt;/iframe&gt;</pre>
             <p>
              For more information, see
              <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e5c.html">
               Scripting between content in different domains
              </a>
              .
             </p>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe4">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe4">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Restrictions on loading CSS, frame, iframe, and img elements (for content in non-application sandboxes)
            </h3>
            <div>
             <p>
              HTML content in remote (network) security sandboxes can only
load CSS,
              <samp class="codeph">
               frame
              </samp>
              ,
              <samp class="codeph">
               iframe
              </samp>
              , and
              <samp class="codeph">
               img
              </samp>
              content
from remote sandboxes (from network URLs).
             </p>
             <p>
              HTML content in local-with-filesystem, local-with-networking,
or local-trusted sandboxes can only load CSS, frame, iframe, and
              <samp class="codeph">
               img
              </samp>
              content
from local sandboxes (not from application or remote sandboxes).
             </p>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7e91">
            <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7e91">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Restrictions on calling the JavaScript window.open() method
            </h3>
            <div>
             <p>
              If a window that is created via a call to
the JavaScript
              <samp class="codeph">
               window.open()
              </samp>
              method displays content
from a non-application security sandbox, the window’s title begins
with the title of the main (launching) window, followed by a colon character.
You cannot use code to move that portion of the title of the window off
screen.
             </p>
             <p>
              Content in non-application security sandboxes can only successfully
call the JavaScript
              <samp class="codeph">
               window.open()
              </samp>
              method in response
to an event triggered by a user mouse or keyboard interaction. This
prevents non-application content from creating windows that might
be used deceptively (for example, for phishing attacks). Also, the
event handler for the mouse or keyboard event cannot set the
              <samp class="codeph">
               window.open()
              </samp>
              method
to execute after a delay (for example by calling the
              <samp class="codeph">
               setTimeout()
              </samp>
              function).
             </p>
             <p>
              Content in remote (network) sandboxes can only use the
              <samp class="codeph">
               window.open()
              </samp>
              method
to open content in remote network sandboxes. It cannot use the
              <samp class="codeph">
               window.open()
              </samp>
              method
to open content from the application or local sandboxes.
             </p>
             <p>
              Content in the local-with-filesystem, local-with-networking,
or local-trusted sandboxes (see
              <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e3f.html">
               Security sandboxes
              </a>
              ) can only use the
              <samp class="codeph">
               window.open()
              </samp>
              method to
open content in local sandboxes. It cannot use
              <samp class="codeph">
               window.open()
              </samp>
              to
open content from the application or remote sandboxes.
             </p>
            </div>
           </div>
           <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe2">
            <a name="WS5b3ccc516d4fbf351e63e3d118676a3fc7-7fe2">
             <!-- -->
            </a>
            <h3 class="topictitle3">
             Errors when calling restricted code
            </h3>
            <div>
             <p>
              If you call code that is restricted from use in a sandbox due
to these security restrictions, the runtime dispatches a JavaScript
error: "Adobe AIR runtime security violation for JavaScript code
in the application security sandbox."
             </p>
             <p>
              For more information, see
              <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f0e.html">
               Avoiding security-related JavaScript errors
              </a>
              .
             </p>
            </div>
           </div>
          </div>
          <div class="nochunk" id="WSD9670697-56E4-45de-9787-E5F035EF7AF8">
           <a name="WSD9670697-56E4-45de-9787-E5F035EF7AF8">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Sandbox protection when loading HTML content from a string
           </h2>
           <div>
            <p>
             The
             <samp class="codeph">
              loadString()
             </samp>
             method
of the HTMLLoader class lets you create HTML content at run time.
However, data that you use as the HTML content can be corrupted
if the data is loaded from an insecure Internet source. For this
reason, by default, HTML created using the
             <samp class="codeph">
              loadString()
             </samp>
             method
is not placed in the application sandbox and it has no access to
AIR APIs. However, you can set the
             <samp class="codeph">
              placeLoadStringContentInApplicationSandbox
             </samp>
             property
of an HTMLLoader object to true to place HTML created using the
             <samp class="codeph">
              loadString()
             </samp>
             method
into the application sandbox. For more information, see Loading
HTML content from a string.
            </p>
           </div>
          </div>
          <!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
          <!-- END USER PREFERENCES -->
          <div id="related">
           <div class="separator">
            <a href="#top">
             <img src="images/BTT.jpg"/>
            </a>
           </div>
          </div>
          <div id="footer">
           <!-- BEGIN IONCOMMENTS -->
           <div id="ionComHere">
           </div>
           <!-- END IONCOMMENTS -->
           

           <p id="creativecommons">
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text">
             <img alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" id="creativecommons_img" src="images/CC.png"/>
            </a>
            Twitter™ and Facebook posts are not covered under the terms of Creative Commons.
           </p>
          </div>
         </td>
         <td width="10px">
         </td>
         <td id="inner_rightcolumn">
          
         </td>
        </tr>
       </table>
      </div>
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e5f.html" title="Installation and updates">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7e5c.html" title="Scripting between content in different domains">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b-3d590ddd1272a3584c3-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b-3d590ddd1272a3584c3-8000.html">
         <b>
          HTML Developer’s Guide for Adobe AIR
         </b>
        </a>
        /
        <a href="WS789ea67d3e73a8b25a82c84b1242c147a70-8000.html">
         <b>
          AIR development basics
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7d23.html">
         <b>
          Security
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7fa3.html">
         <b>
          AIR security
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <!-- END CONTENT WRAPPER -->
      
     </td>
     <td id="col3">
      <div>
       <img src="images/adobe-lq.png"/>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <!-- END PAGE CONTENT WRAPPER -->
  <script type="text/javascript">
   <!--[CDATA[
scrollToNameAnchor();
// ]]-->
  </script>
  <!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



  <style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>


  
<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed
  
  
 </body>
</html>