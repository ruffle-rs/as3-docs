<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;AIR * Use push notifications</title>
    <link rel="shortcut icon" href="images/AIR.ico" />
    <meta name="book" content="Building Adobe AIR Applications" />
    <meta name="product" content="adobe" /><meta name="product" content="air" /><meta name="product" content="flash" /><meta name="product" content="flex" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="Building Adobe AIR Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WSd6d4f896b3a8801b7be2f55d138e29d5e40-8000.html";
    document.cookie = "topicId=" + "WSd6d4f896b3a8801b7be2f55d138e29d5e40-8000.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="https://help.adobe.com/en_US/air/build/swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="AIR"><div class="banner"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html">Adobe&#160;AIR</a></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="air_buildingapps.pdf">View Help PDF (5.7MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="https://help.adobe.com/en_US/air/build/search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WS901d38e593cd1bac-77bd3ea112e2c0a7ed0-7fff.html" title="Updating AIR applications on iOS"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS62b4b4caef5f7931-1f86f0fb1328dba45c2-8000.html" title="Developing AIR applications for television devices"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSfffb011ac560372f-5d0f4f25128cc9cd0cb-8000.html"><b>Developing AIR applications for mobile devices</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Use push notifications</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WSd6d4f896b3a8801b614649f138e2cd3ca8-8000"><span class="topictitle1">Overview of push notifications</span>
</a></p><ul><li><p><a href="#WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000"><span class="topictitle2">Regstration workflow</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff"><span class="topictitle2">Notification workflow</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b-30987607138e36a2963-8000"><span class="topictitle2">Push notification API</span>
</a></p></li></ul></li><li><p><a href="#WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff"><span class="topictitle1">Manage push notifications in an application</span>
</a></p><ul><li><p><a href="#WSd6d4f896b3a8801b14ccbfe138e38c6813-8000"><span class="topictitle2">Enable push notifications in the application XML file</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff"><span class="topictitle2">Create a provisioning profile and certificate that enable iOS Push Services</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000"><span class="topictitle2">Use sound for push notifications</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801bc43683913901a063a8-8000"><span class="topictitle2">Use localized alert notifications</span>
</a></p></li></ul></li><li><p><a href="#WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffe"><span class="topictitle1">Configure a remote notification provider</span>
</a></p><ul><li><p><a href="#WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000"><span class="topictitle2">Remote notification provider options</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff"><span class="topictitle2">Certificates for the remote notification provider</span>
</a></p></li></ul></li><li><p><a href="#WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd"><span class="topictitle1">Handle push notifications in an application</span>
</a></p><ul><li><p><a href="#WSd6d4f896b3a8801b1b9c523c138e8a31049-8000"><span class="topictitle2">Configuration and acceptance of push notifications</span>
</a></p></li><li><p><a href="#WSd6d4f896b3a8801b1b9c523c138e8a31049-7ffe"><span class="topictitle2">Handling push notifications and payload data</span>
</a></p></li></ul></li></ul></div></div></div></div><div><p>Push notifications let remote notification providers send
                    notifications to applications running on a mobile device. AIR 3.4
                    supports push notifications for iOS devices using the Apple Push
                    Notification service (APNs).</p>
<div class="note"><span class="notetitle">Note:  </span>To enable push notifications for an AIR for Android application,
                    use a native extension, such as <a href="http://www.riaspace.com/2011/09/as3c2dm-air-native-extension-to-push-notifications-with-c2dm/" target="_self">as3c2dm</a>, developed by Adobe evangelist
                    Piotr Walczyszyn.</div>
<p>The remainder of this section describes how to enable push notifications
                    in AIR for iOS applications.</p>
<div class="note"><span class="notetitle">Note:  </span>This discussion assumes that you have an Apple developer ID,
                    are familiar with the iOS development workflow,and have deployed
                    at least one application on an iOS device.</div>
<ul class="navlinklist"></ul>
</div>
<div id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000" class="nochunk"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000"><!-- --></a><h2 class="topictitle2">Overview of push notifications</h2><div><p>The Apple Push Notification service (APNs) lets remote
                        notification providers send notifications to applications running
                        on iOS devices. APNs supports the following notification types:</p>
<ul><li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7efa"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7efa"><!-- --></a><p>Alerts</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef9"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef9"><!-- --></a><p>Badges</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef8"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef8"><!-- --></a><p>Sounds</p>
</li>
</ul>
<p>For complete information on APNs, see <a href="http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ApplePushService/ApplePushService.html" target="_self">developer.apple.com</a>.</p>
<p>Using push notifications in your application involves multiple
                        aspects:</p>
<ul><li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef7"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef7"><!-- --></a><p><strong>Client application</strong> - Registers for push notifications,
                                communicates with the remote notification providers, and receives
                                push notifications.</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef6"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef6"><!-- --></a><p><strong>iOS</strong> - Manages interaction between the client application
                                and APNs.</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef5"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef5"><!-- --></a><p><strong>APNs</strong> - Provides a tokenID during client registration
                                and passes notifications from the remote notification providers
                                to iOS.</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef4"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef4"><!-- --></a><p><strong>Remote notification provider </strong>- Stores tokenId-client
                                application information and pushes notifications to APNs.</p>
</li>
</ul>
</div><div id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000" class="nochunk"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000"><!-- --></a><h3 class="topictitle3">Regstration workflow</h3><div><p>The workflow for registering push notifications with a
                            server-side service is as follows:</p>
<ol><li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef3"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef3"><!-- --></a><p>The client application requests that iOS enable push
                                    notifications.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef2"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef2"><!-- --></a><p>iOS forwards the request to APNs.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef1"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef1"><!-- --></a><p>The APNs server returns a tokenId to iOS.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef0"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ef0"><!-- --></a><p>iOS returns the tokenId to the client application.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eef"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eef"><!-- --></a><p>The client application (using an application-specific mechanism)
                                    provides the tokenId to the remote notification provider, which
                                    stores the tokenId to use for push notifications.</p>
</li>
</ol>
</div></div><div id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff" class="nochunk"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff"><!-- --></a><h3 class="topictitle3">Notification workflow</h3><div><p>The notification workflow is as follows:</p>
<ol><li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eee"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eee"><!-- --></a><p>The remote notification provider generates a notification
                                    and passes the notification payload to APNs, along with the tokenId.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eed"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eed"><!-- --></a><p>APNs forwards the notification to iOS on the device.</p>
</li>
<li id="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eec"><a name="WSd6d4f896b3a8801b-13c23f2b138e2e72c4f-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eec"><!-- --></a><p>iOS pushes the notification payload to the application.</p>
</li>
</ol>
</div></div><div id="WSd6d4f896b3a8801b-30987607138e36a2963-8000" class="nochunk"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000"><!-- --></a><h3 class="topictitle3">Push notification API</h3><div><p>AIR 3.4 introduced a set of APIs that support iOS push
                            notifications. These APIs are in the <samp class="codeph">flash.notifications</samp> package,
                            and inlude the following classes:</p>
<ul><li id="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eeb"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eeb"><!-- --></a><p><samp class="codeph"><a href="../../FlashPlatform/reference/actionscript/3/flash/notifications/NotificationStyle.html" target="_self">NotificationStyle</a></samp> - Defines
                                    constants for notification types: <samp class="codeph">ALERT</samp>, <samp class="codeph">BADGE</samp>,
                                    and <samp class="codeph">SOUND</samp>.C</p>
</li>
<li id="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eea"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eea"><!-- --></a><p><samp class="codeph"><a href="../../FlashPlatform/reference/actionscript/3/flash/notifications/RemoteNotifier.html" target="_self">RemoteNotifier</a></samp> - Lets you
                                    subscribe to and unsubscribe from push notifications.</p>
</li>
<li id="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee9"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee9"><!-- --></a><p><samp class="codeph"><a href="../../FlashPlatform/reference/actionscript/3/flash/notifications/RemoteNotifierSubscribeOptions.html" target="_self">RemoteNotifierSubscribeOptions</a></samp> -
                                    Lets you select which notification types to receive. Use the <samp class="codeph">notificationStyles</samp> property
                                    to define a vector of strings that register for multiple notification
                                    types.</p>
</li>
</ul>
<p>AIR 3.4 also includes <samp class="codeph">flash.events.RemoteNotificationEvent</samp>,
                            which is dispatched by <samp class="codeph">RemoteNotifier</samp>, as follows:</p>
<ul><li id="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee8"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee8"><!-- --></a><p>When an application’s subscription is successfully created
                                    and a new tokenId is received from APNs.</p>
</li>
<li id="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee7"><a name="WSd6d4f896b3a8801b-30987607138e36a2963-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee7"><!-- --></a><p>Upon receiving a new remote notification.</p>
</li>
</ul>
<p>Additionally, <samp class="codeph">RemoteNotifier</samp> dispatches <samp class="codeph">flash.events.StatusEvent</samp> if
                            it encounters an error during the subscription process.</p>
</div></div></div>
<div id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff" class="nochunk"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff"><!-- --></a><h2 class="topictitle2">Manage push notifications in an application</h2><div><p>To register your application for push notifications, you
                        must perform the following steps:</p>
<ul><li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee6"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee6"><!-- --></a><p>Create code that subscribes to push notifications in
                                your application.</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee5"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee5"><!-- --></a><p>Enable push notifications in the application XML file.</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee4"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee4"><!-- --></a><p>Create a provisioning profile and certificate that enable
                                iOS Push Services.</p>
</li>
</ul>
<p>The following annotated sample code subscribes to push notification
                        and handles push notification events:</p>
<pre>package 
                        { 
                        import flash.display.Sprite; 
                        import flash.display.StageAlign; 
                        import flash.display.StageScaleMode; 
                        import flash.events.*; 
                        import flash.events.Event; 
                        import flash.events.IOErrorEvent; 
                        import flash.events.MouseEvent; 
                        import flash.net.*; 
                        import flash.text.TextField; 
                        import flash.text.TextFormat; 
                        import flash.ui.Multitouch; 
                        import flash.ui.MultitouchInputMode; 
                        // Required packages for push notifications 
                        import flash.notifications.NotificationStyle; 
                        import flash.notifications.RemoteNotifier; 
                        import flash.notifications.RemoteNotifierSubscribeOptions; 
                        import flash.events.RemoteNotificationEvent; 
                        import flash.events.StatusEvent; 
                        [SWF(width="1280", height="752", frameRate="60")] 

                        public class TestPushNotifications extends Sprite 
                        { 
                        private var notiStyles:Vector.&lt;String&gt; = new Vector.&lt;String&gt;;; 
                        private var tt:TextField = new TextField(); 
                        private var tf:TextFormat = new TextFormat(); 
                        // Contains the notification styles that your app wants to receive 
                        private var preferredStyles:Vector.&lt;String&gt; = new Vector.&lt;String&gt;(); 
                        private var subscribeOptions:RemoteNotifierSubscribeOptions = new RemoteNotifierSubscribeOptions(); 
                        private var remoteNot:RemoteNotifier = new RemoteNotifier(); 

                        private var subsButton:CustomButton = new CustomButton("Subscribe"); 
                        private var unSubsButton:CustomButton = new CustomButton("UnSubscribe"); 
                        private var clearButton:CustomButton = new CustomButton("clearText"); 

                        private var urlreq:URLRequest; 
                        private var urlLoad:URLLoader = new URLLoader(); 
                        private var urlString:String; 

                        public function TestPushNotifications() 
                        { 
                        super(); 

                        Multitouch.inputMode = MultitouchInputMode.TOUCH_POINT; 
                        stage.align = StageAlign.TOP_LEFT; 
                        stage.scaleMode = StageScaleMode.NO_SCALE; 

                        tf.size = 20; 
                        tf.bold = true; 


                        tt.x=0; 
                        tt.y =150; 
                        tt.height = stage.stageHeight; 
                        tt.width = stage.stageWidth; 
                        tt.border = true; 
                        tt.defaultTextFormat = tf; 

                        addChild(tt); 

                        subsButton.x = 150; 
                        subsButton.y=10; 
                        subsButton.addEventListener(MouseEvent.CLICK,subsButtonHandler); 
                        stage.addChild(subsButton); 

                        unSubsButton.x = 300; 
                        unSubsButton.y=10; 
                        unSubsButton.addEventListener(MouseEvent.CLICK,unSubsButtonHandler); 
                        stage.addChild(unSubsButton); 

                        clearButton.x = 450; 
                        clearButton.y=10; 
                        clearButton.addEventListener(MouseEvent.CLICK,clearButtonHandler); 
                        stage.addChild(clearButton); 

                        // 
                        tt.text += "\n SupportedNotification Styles: " + RemoteNotifier.supportedNotificationStyles.toString() + "\n"; 

                        tt.text += "\n Before Preferred notificationStyles: " + subscribeOptions.notificationStyles.toString() + "\n"; 

                        // Subscribe to all three styles of push notifications: 
                        // ALERT, BADGE, and SOUND. 
                        preferredStyles.push(NotificationStyle.ALERT ,NotificationStyle.BADGE,NotificationStyle.SOUND ); 

                        subscribeOptions.notificationStyles= preferredStyles; 

                        tt.text += "\n After Preferred notificationStyles:" + subscribeOptions.notificationStyles.toString() + "\n"; 


                        remoteNot.addEventListener(RemoteNotificationEvent.TOKEN,tokenHandler); 
                        remoteNot.addEventListener(RemoteNotificationEvent.NOTIFICATION,notificationHandler); 
                        remoteNot.addEventListener(StatusEvent.STATUS,statusHandler); 

                        this.stage.addEventListener(Event.ACTIVATE,activateHandler); 


                        } 
                        // Apple recommends that each time an app activates, it subscribe for 
                        // push notifications. 
                        public function activateHandler(e:Event):void{ 
                        // Before subscribing to push notifications, ensure the device supports it. 
                        // supportedNotificationStyles returns the types of notifications 
                        // that the OS platform supports 
                        if(RemoteNotifier.supportedNotificationStyles.toString() != "") 
                        {     
                        remoteNot.subscribe(subscribeOptions); 
                        } 
                        else{ 
                        tt.appendText("\n Remote Notifications not supported on this Platform !"); 
                        } 
                        } 
                        public function subsButtonHandler(e:MouseEvent):void{ 
                        remoteNot.subscribe(subscribeOptions); 
                        } 
                        // Optionally unsubscribe from push notfications at runtime. 
                        public function unSubsButtonHandler(e:MouseEvent):void{ 
                        remoteNot.unsubscribe(); 
                        tt.text +="\n UNSUBSCRIBED"; 
                        } 

                        public function clearButtonHandler(e:MouseEvent):void{ 
                        tt.text = " "; 
                        } 
                        // Receive notification payload data and use it in your app 
                        public function notificationHandler(e:RemoteNotificationEvent):void{ 
                        tt.appendText("\nRemoteNotificationEvent type: " + e.type + 
                        "\nbubbles: "+ e.bubbles + "\ncancelable " +e.cancelable); 

                        for (var x:String in e.data) { 
                        tt.text += "\n"+ x + ":  " + e.data[x]; 
                        } 
                        } 
                        // If the subscribe() request succeeds, a RemoteNotificationEvent of 
                        // type TOKEN is received, from which you retrieve e.tokenId, 
                        // which you use to register with the server provider (urbanairship, in 
                        // this example. 
                        public function tokenHandler(e:RemoteNotificationEvent):void 
                        { 
                        tt.appendText("\nRemoteNotificationEvent type: "+e.type +"\nBubbles: "+ e.bubbles + "\ncancelable " +e.cancelable +"\ntokenID:\n"+ e.tokenId +"\n"); 

                        urlString = new String("https://go.urbanairship.com/api/device_tokens/" + 
                        e.tokenId); 
                        urlreq = new URLRequest(urlString); 

                        urlreq.authenticate = true; 
                        urlreq.method = URLRequestMethod.PUT; 

                        URLRequestDefaults.setLoginCredentialsForHost 
                        ("go.urbanairship.com", 
                        "1ssB2iV_RL6_UBLiYMQVfg","t-kZlzXGQ6-yU8T3iHiSyQ"); 

                        urlLoad.load(urlreq); 
                        urlLoad.addEventListener(IOErrorEvent.IO_ERROR,iohandler); 
                        urlLoad.addEventListener(Event.COMPLETE,compHandler); 
                        urlLoad.addEventListener(HTTPStatusEvent.HTTP_STATUS,httpHandler); 

                        } 

                        private function iohandler(e:IOErrorEvent):void 
                        { 
                        tt.appendText("\n In IOError handler" + e.errorID +" " +e.type); 

                        } 
                        private function compHandler(e:Event):void{ 
                        tt.appendText("\n In Complete handler,"+"status: " +e.type + "\n"); 
                        } 

                        private function httpHandler(e:HTTPStatusEvent):void{ 
                        tt.appendText("\n in httpstatus handler,"+ "Status: " + e.status); 
                        } 

                        // If the subscription request fails, StatusEvent is dispatched with 
                        // error level and code. 
                        public function statusHandler(e:StatusEvent):void{ 
                        tt.appendText("\n statusHandler"); 
                        tt.appendText("event Level" + e.level +"\nevent code " + 
                        e.code + "\ne.currentTarget: " + e.currentTarget.toString()); 
                        } 
                        } 
                        }</pre>
</div><div id="WSd6d4f896b3a8801b14ccbfe138e38c6813-8000" class="nochunk"><a name="WSd6d4f896b3a8801b14ccbfe138e38c6813-8000"><!-- --></a><h3 class="topictitle3">Enable push notifications in the application XML file</h3><div><p>To use push notifications in your application, provide
                            the following in the <samp class="codeph">Entitlements</samp> tag (under the <samp class="codeph">iphone</samp> tag):</p>
<pre>&lt;iphone&gt; 
                            ... 
                            &#160;&#160;&#160;&lt;Entitlements&gt; 
                            &#160;&#160;&#160;&#160;&#160;&#160;&lt;![CDATA[ 
                            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;key&gt;aps-environment&lt;/key&gt; 
                            &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&lt;string&gt;development&lt;/string&gt; 
                            &#160;&#160;&#160;&#160;&#160;&#160;]]&gt; 
                            &#160;&#160;&#160;&lt;/Entitlements&gt; 
                            &lt;/iphone&gt;</pre>
<p>When you are ready to push the application to the App Store,
                            a <samp class="codeph">&lt;string&gt;</samp> element for development to production:</p>
<pre>&#160;&#160;&#160;&#160;&#160;&#160;&lt;string&gt;production&lt;/string&gt;</pre>
<p>If your application supports localized strings, specify the languages
                            in the <samp class="codeph">supportedLanguages</samp> tag, beneath the <samp class="codeph">intialWindow</samp> tag,
                            as the following example shows:</p>
<pre>&lt;supportedLanguages&gt;en de cs es fr it ja ko nl pl pt&lt;/supportedLanguages&gt;</pre>
</div></div><div id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff" class="nochunk"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff"><!-- --></a><h3 class="topictitle3">Create a provisioning profile and certificate that enable iOS Push Services</h3><div><p>To enable application-APNs communication, you must package
                            the application with a provisioning profile and certificate that
                            enable iOS Push Services, as follows:</p>
<ol><li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee3"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee3"><!-- --></a><p>Log in to your Apple developer account.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee2"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee2"><!-- --></a><p>Navigate to the Provisioning Portal.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee1"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee1"><!-- --></a><p>Click the App IDs tab.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee0"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ee0"><!-- --></a><p>Click the New App ID button.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edf"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edf"><!-- --></a><p>Specify a description and bundle identifier (you should not
                                    use * in the bundle identifier).</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ede"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ede"><!-- --></a><p>Click Submit. The Provisioning Portal generates your App
                                    ID and redisplays the App IDs page.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edd"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edd"><!-- --></a><p>Clik Configure (to the right of your App ID). The Configure
                                    App ID page displays.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edc"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edc"><!-- --></a><p>Select the Enable for Apple Push Notification service checkbox.
                                    Note that there are twotypes of push SSL certificates: one for development/testing
                                    and one for production.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edb"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7edb"><!-- --></a><p>Click the Configure button to the right of Development Push
                                    SSL Certificate. The Generate Certificate Signing Request (CSR)
                                    page displays.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eda"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eda"><!-- --></a><p>Generate a CSR using the Keychain Access utility, as instructed
                                    by the page. </p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed9"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed9"><!-- --></a><p>Generate the SSL certificate.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed8"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed8"><!-- --></a><p>Download and install the SSL certificate.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed7"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed7"><!-- --></a><p>(Optional) Repeat steps 9 through 12 for the production Push
                                    SSL certificate.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed6"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed6"><!-- --></a><p>Click Done. The Configure App ID page displays.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed5"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed5"><!-- --></a><p>Click Done. The App IDs page displays. Notice the green circle
                                    beside Push Notification for your App ID.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed4"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed4"><!-- --></a><p>Be sure to save your SSL certificates, as they are used later
                                    for application and provider communication.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed3"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed3"><!-- --></a><p>Click the Provisioning tab todisplay the Provisioning Profiles
                                    page.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed2"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed2"><!-- --></a><p>Create a provisioning profile for your new App ID and download
                                    it.</p>
</li>
<li id="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed1"><a name="WSd6d4f896b3a8801b-afcfd10138e38250cf-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed1"><!-- --></a><p>Click the Certificates tab and download a new certificate
                                    for the new provisioning profile.</p>
</li>
</ol>
</div></div><div id="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000" class="nochunk"><a name="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000"><!-- --></a><h3 class="topictitle3">Use sound for push notifications</h3><div><p>To enable sound notifications for your application, bundle
                            the sound files as you would any other asset, but in same directory
                            as the SWF and app-xml files. For example:</p>
<pre>Build/adt -package -target ipa-app-store -provisioning-profile _-_.mobileprovision -storetype pkcs12 -keystore _-_.p12 test.ipa test-app.xml test.swf sound.caf sound1.caf</pre>
<p>Apple supports the following sound data formats (in aiff, wav,
                            or caf files):</p>
<ul><li id="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed0"><a name="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ed0"><!-- --></a><p>Linear PCM</p>
</li>
<li id="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecf"><a name="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecf"><!-- --></a><p>MA4 (IMA/ADPCM)</p>
</li>
<li id="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ece"><a name="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ece"><!-- --></a><p>uLaw</p>
</li>
<li id="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecd"><a name="WSd6d4f896b3a8801b-2a0e2dd1139018b6d59-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecd"><!-- --></a><p>aLaw</p>
</li>
</ul>
</div></div><div id="WSd6d4f896b3a8801bc43683913901a063a8-8000" class="nochunk"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000"><!-- --></a><h3 class="topictitle3">Use localized alert notifications</h3><div><p>To use localized alert notifications in your application,
                            bundle localized strings in the form of lproj folders. For example,
                            you support alerts in Spanish, as follows:</p>
<ol><li id="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecc"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecc"><!-- --></a><p>Create an es.lproj folder within the project at the same
                                    level as the app-xml file.</p>
</li>
<li id="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecb"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ecb"><!-- --></a><p>Within the es.lproj folder, create a text file named Localizable.Strings.</p>
</li>
<li id="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eca"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7eca"><!-- --></a><p>Open Localizable.Strings in a text editor and add message
                                    keys and the corresponding localized strings. For example:</p>
<pre>"PokeMessageFormat" = "La notificación de alertas en español."</pre>
</li>
<li id="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec9"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec9"><!-- --></a><p>Save the file.</p>
</li>
<li id="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec8"><a name="WSd6d4f896b3a8801bc43683913901a063a8-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec8"><!-- --></a><p>When the application receives an alert notification with
                                    this key value and the device language is Spanish, the translated
                                    alert text displays.</p>
</li>
</ol>
</div></div></div>
<div id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffe" class="nochunk"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffe"><!-- --></a><h2 class="topictitle2">Configure a remote notification provider</h2><div><p>You need a remote notification provider to send push notifications
                        to your application. This server application acts as a provider,
                        accepting your push input, and passing the notification and notification
                        data to APNs, which, in turn, sends the push notification to a client
                        application. </p>
<p>For detailed information on pushing notifications from a remote
                        notification provider, see <a href="http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingWIthAPS/CommunicatingWIthAPS.html#//apple_ref/doc/uid/TP40008194-CH101-SW1#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/CommunicatingWIthAPS/CommunicatingWIthAPS.html#//apple_ref/doc/uid/TP40008194-CH101-SW1" target="_self">Provider Communication with Apple Push Notification
                            Service</a> in the Apple Developer Library.</p>
</div><div id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000" class="nochunk"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000"><!-- --></a><h3 class="topictitle3">Remote notification provider options</h3><div><p>Options for a remote notification provider include the
                            following:</p>
<ul><li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec7"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec7"><!-- --></a><p>Create your own provider, based on the APNS-php open-source
                                    server. You can set up a PHP server using <a href="http://code.google.com/p/apns-php/" target="_self">http://code.google.com/p/apns-php/</a>.
                                    This Google Code project lets you design an interface that matches
                                    your specific requirements.</p>
</li>
<li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec6"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-8000__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec6"><!-- --></a><p>Use a service provider. For example, <a href="http://urbanairship.com/" target="_self">http://urbanairship.com/</a> offers
                                    a readymade APNs provider. After registering with this service,
                                    you start by providing your device token using code similar to the
                                    following:</p>
<pre>private var urlreq:URLRequest; 
                                    private var urlLoad:URLLoader = new URLLoader(); 
                                    private var urlString:String; 

                                    //When subscription is successful then only call the following code 
                                    urlString = new String("https://go.urbanairship.com/api/device_tokens/" + e.tokenId); 
                                    urlreq = new URLRequest(urlString); 

                                    urlreq.authenticate = true; 
                                    urlreq.method = URLRequestMethod.PUT; 
                                    URLRequestDefaults.setLoginCredentialsForHost("go.urbanairship.com", 
                                    &#160;&#160;&#160;"Application Key","Application Secret"); 
                                    urlLoad.load(urlreq); 
                                    urlLoad.addEventListener(IOErrorEvent.IO_ERROR,iohandler); 
                                    urlLoad.addEventListener(Event.COMPLETE,compHandler); 
                                    urlLoad.addEventListener(HTTPStatusEvent.HTTP_STATUS,httpHandler); 

                                    private function iohandler(e:IOErrorEvent):void{ 
                                    &#160;&#160;&#160;trace("\n In IOError handler" + e.errorID +" " +e.type); 
                                    } 

                                    private function compHandler(e:Event):void{ 
                                    &#160;&#160;&#160;trace("\n In Complete handler,"+"status: " +e.type + "\n"); 
                                    } 

                                    private function httpHandler(e:HTTPStatusEvent):void{ 
                                    &#160;&#160;&#160;tt.appendText("\n in httpstatus handler,"+ "Status: " + e.status); 
                                    }</pre>
<p>You can then send test notifications using Urban
                                    Airship tools.</p>
</li>
</ul>
</div></div><div id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff" class="nochunk"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff"><!-- --></a><h3 class="topictitle3">Certificates for the remote notification provider</h3><div><p>You must copy the SSL certificate and private key (generated
                            earlier )to the appropriate location on the remote notification
                            provider’s server. You typically combine these two files into a
                            single <samp class="codeph">.pem</samp> file. To do this, perform the following steps:</p>
<ol><li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec5"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec5"><!-- --></a><p>Open a terminal window.</p>
</li>
<li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec4"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec4"><!-- --></a><p>Create a <samp class="codeph">.pem</samp> file from the SSL certificate
                                    by typing the following command:</p>
<pre>openssl x509 -in aps_developer_identity.cer -inform der -out TestPushDev.pem</pre>
</li>
<li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec3"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec3"><!-- --></a><p>Create a .pem file of the private key (<samp class="codeph">.p12</samp>)
                                    file by typing the following command:</p>
<pre>openssl pkcs12 -nocerts -out TestPushPrivateKey.pem -in certificates.p12</pre>
</li>
<li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec2"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec2"><!-- --></a><p>Combine the two .pem files into a single file by typing the
                                    following command:</p>
<pre>cat TestPushDev.pem TestPushPrivateKey.pem &gt; FinalTestPush.pem</pre>
</li>
<li id="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec1"><a name="WSd6d4f896b3a8801b-26ad0ed6138e87d3924-7fff__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec1"><!-- --></a><p>Provide the combined <samp class="codeph">.pem</samp> file to the server
                                    provider when creating your server-side push application.</p>
</li>
</ol>
<p>For more information, see <a href="http://developer.apple.com/library/mac/#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ProvisioningDevelopment/ProvisioningDevelopment.html#//apple_ref/doc/uid/TP40008194-CH104-SW6#documentation/NetworkingInternet/Conceptual/RemoteNotificationsPG/ProvisioningDevelopment/ProvisioningDevelopment.html#//apple_ref/doc/uid/TP40008194-CH104-SW6" target="_self">Installing the SSL Certificate and Key on
                                the Server</a> in the Apple Local and Push Notification Programming
                            Guide.</p>
</div></div></div>
<div id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd" class="nochunk"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd"><!-- --></a><h2 class="topictitle2">Handle push notifications in an application</h2><div><p>Handling push notifications in an application involves
                        the following:</p>
<ul><li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec0"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ec0"><!-- --></a><p>Global user configuration and acceptance of push notifications</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ebf"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ebf"><!-- --></a><p>User acceptance of individual push notifications</p>
</li>
<li id="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ebe"><a name="WSd6d4f896b3a8801b614649f138e2cd3ca8-7ffd__WSbbc3c369e2f1edbf-7a2e28831602b1ed849-7ebe"><!-- --></a><p>Handling push notifications and notification payload data</p>
</li>
</ul>
</div><div id="WSd6d4f896b3a8801b1b9c523c138e8a31049-8000" class="nochunk"><a name="WSd6d4f896b3a8801b1b9c523c138e8a31049-8000"><!-- --></a><h3 class="topictitle3">Configuration and acceptance of push notifications</h3><div><p>The first time a user launches a push notification-enabled
                            application, iOS displays an <strong><i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">appname</i> Would Like to Send You Push Notifications</strong> dialog
                            with Don’t Allow and OK buttons. If the user selects OK, the application
                            can receive all styles of notifications for which it has subscribed.
                            If the user selects Don’t Allow, it receives no notifications.</p>
<div class="note"><span class="notetitle">Note:  </span>Users can also go to Settings &gt; Notifications to control
                            the specific notification types it can receive for each push-enabled
                            application.</div>
<p>Apples recommends that each time an application activates it
                            should subscribe for push notifications. When your application calls <samp class="codeph">RemoteNotifier.subscribe()</samp>,
                            it receives a <samp class="codeph">RemoteNotificationEvent</samp> of type <samp class="codeph">token</samp>,
                            , which contains a 32-byte unique numeric tokenId that uniquely
                            identifies that application on that device. </p>
<p>When the device receives a push notification, it displays a popup
                            with Close and Launch buttons. If the user touches Close, nothing
                            happens; if the user touches Launch, iOS invokes the application
                            and the application receives a <samp class="codeph">flash.events.RemoteNotificationEvent</samp> of
                            type <samp class="codeph">notification</samp>, as described below.</p>
</div></div><div id="WSd6d4f896b3a8801b1b9c523c138e8a31049-7ffe" class="nochunk"><a name="WSd6d4f896b3a8801b1b9c523c138e8a31049-7ffe"><!-- --></a><h3 class="topictitle3">Handling push notifications and payload data</h3><div><p>When the remote notification provider sends a notification
                            to a device (using the tokenID), your application receives a <samp class="codeph">flash.events.RemoteNotificationEvent</samp> of
                            type <samp class="codeph">notification</samp>, regardless of whether or not
                            the application is running. At this point, your application performs
                            app-specific notification processing. If your application handles notification
                            data, you access it through the JSON-formatted <samp class="codeph">RemoteNotificationEvent.data</samp> property.</p>
</div></div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WS901d38e593cd1bac-77bd3ea112e2c0a7ed0-7fff.html" title="Updating AIR applications on iOS"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS62b4b4caef5f7931-1f86f0fb1328dba45c2-8000.html" title="Developing AIR applications for television devices"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSfffb011ac560372f-5d0f4f25128cc9cd0cb-8000.html"><b>Developing AIR applications for mobile devices</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed


  </body>
</html>