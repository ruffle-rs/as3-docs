<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;AIR * Localizing HTML content with the AIR HTML localization framework</title>
    <link rel="shortcut icon" href="images/AIR.ico" />
    <meta name="book" content="Building Adobe AIR Applications" />
    <meta name="product" content="adobe" /><meta name="product" content="air" /><meta name="product" content="flash" /><meta name="product" content="flex" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="Building Adobe AIR Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WS7097DF4C-EFCF-4d55-ADE1-682F0FDA26AC.html";
    document.cookie = "topicId=" + "WS7097DF4C-EFCF-4d55-ADE1-682F0FDA26AC.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="https://help.adobe.com/en_US/air/build/swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="AIR"><div class="banner"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html">Adobe&#160;AIR</a></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="air_buildingapps.pdf">View Help PDF (5.7MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="https://help.adobe.com/en_US/air/build/search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSD079A3A2-1B38-4543-A792-06594E4325FE.html" title="Localizing the application name and description in the AIR application installer"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSfffb011ac560372f-71994050128cca87097-8000.html" title="Path environment variables"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSB2927578-20D8-4065-99F3-00ACE6511EEE.html"><b>Localizing AIR applications</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Localizing HTML content with the AIR HTML localization framework</h1><p class="adoberuntime">Adobe AIR 1.1 and later</p>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WS3B623FA2-7DE3-45ff-B081-F1241747BEDA"><span class="topictitle1">Loading the AIR HTML localization framework code</span>
</a></p></li><li><p><a href="#WS06ac295d95cf5a5c-5e9c45ae1343399641d-8000"><span class="topictitle1">Specifying the supported languages</span>
</a></p></li><li><p><a href="#WS44BB0546-4BBD-4e9d-83C9-4B24748FD946"><span class="topictitle1">Defining resource bundles</span>
</a></p></li><li><p><a href="#WS583B572D-CE0A-42b6-AAB2-24608D7B0786"><span class="topictitle1">Managing locale chains</span>
</a></p></li><li><p><a href="#WS6F4C3F0F-6C68-433f-8DA4-6A233E366C8C"><span class="topictitle1">Updating the DOM elements with localized content</span>
</a></p></li><li><p><a href="#WSBA4E3544-35C5-48d5-825C-494B86E0C7DA"><span class="topictitle1">Updating DOM elements to use the current locale</span>
</a></p></li><li><p><a href="#WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88"><span class="topictitle1">Customizing AIR HTML Localizer settings</span>
</a></p></li><li><p><a href="#WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412"><span class="topictitle1">Defining the locale chain</span>
</a></p></li><li><p><a href="#WSD2923A44-4704-4021-9714-FF5725CA2C13"><span class="topictitle1">Getting resources for a specific locale</span>
</a></p></li></ul></div></div></div></div><div>
<p>The AIR
1.1 SDK includes an HTML localization framework. The AIRLocalizer.js JavaScript
file defines the framework. The frameworks directory of the AIR
SDK contains the AIRLocalizer.js file. This file includes an air.Localizer
class, which provides functionality to assist in creating applications
that support multiple localized versions.</p>
<ul class="navlinklist"></ul>
</div>
<div id="WS3B623FA2-7DE3-45ff-B081-F1241747BEDA" class="nochunk"><a name="WS3B623FA2-7DE3-45ff-B081-F1241747BEDA"><!-- --></a><h2 class="topictitle2">Loading the AIR HTML localization framework code</h2><div><p>To use the localization framework, copy the AIRLocalizer.js
file to your project. Then include it in the main HTML file of the
application, using a script tag:</p>
<div class="para"><pre>&lt;script src="AIRLocalizer.js" type="text/javascript" charset="utf-8"&gt;&lt;/script&gt;</pre>
</div>
<p>Subsequent JavaScript can call the <samp class="codeph">air.Localizer.localizer</samp> object:</p>
<div class="para"><pre>&lt;script&gt; 
    var localizer = air.Localizer.localizer; 
&lt;/script&gt;</pre>
</div>
<div class="para">The <samp class="codeph">air.Localizer.localizer</samp> object is a singleton
object that defines methods and properties for using and managing
localized resources. The Localizer class includes the following
methods:
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e27662"><p>Method</p>
</th>
<th valign="top" width="NaN%" id="d17e27665"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">getFile()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Gets the text of a specified resource bundle
for a specified locale. See <a href="WSD2923A44-4704-4021-9714-FF5725CA2C13.html">Getting resources for a specific locale</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">getLocaleChain()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Returns the languages in the locale chain.
See <a href="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412.html">Defining the locale chain</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">getResourceBundle()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Returns the bundle keys and corresponding
values as an object. See <a href="WSD2923A44-4704-4021-9714-FF5725CA2C13.html">Getting resources for a specific locale</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">getString()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Gets the string defined for a resource.
See <a href="WSD2923A44-4704-4021-9714-FF5725CA2C13.html">Getting resources for a specific locale</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">setBundlesDirectory()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Sets the bundles directory location. See <a href="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88.html">Customizing AIR HTML Localizer settings</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">setLocalAttributePrefix()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Sets the prefix used by localizer attributes
used in HTML DOM elements. See <a href="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88.html">Customizing AIR HTML Localizer settings</a></p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">setLocaleChain()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Sets the order of languages in the locale
chain. See <a href="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412.html">Defining the locale chain</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">sortLanguagesByPreference()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Sorts the locales in the locale chain based
on the order of locales in the operating system settings. See <a href="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412.html">Defining the locale chain</a>.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27662 "><p><samp class="codeph">update()</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27665 "><p>Updates the HTML DOM (or a DOM element)
with localized strings from the current locale chain. For a discussion
of locale chains, see <a href="WS583B572D-CE0A-42b6-AAB2-24608D7B0786.html">Managing locale chains</a>. For more information about the <samp class="codeph">update()</samp> method,
see <a href="WSBA4E3544-35C5-48d5-825C-494B86E0C7DA.html">Updating DOM elements to use the current locale</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The Localizer class includes the following static properties:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e27781"><p>Property</p>
</th>
<th valign="top" width="NaN%" id="d17e27784"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e27781 "><p><samp class="codeph">localizer</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27784 "><p>Returns a reference to the singleton Localizer
object for the application.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e27781 "><p><samp class="codeph">ultimateFallbackLocale</samp></p>
</td>
<td valign="top" width="NaN%" headers="d17e27784 "><p>The locale used when the application supports
no user preference. See <a href="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412.html">Defining the locale chain</a>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div></div>
<div id="WS06ac295d95cf5a5c-5e9c45ae1343399641d-8000" class="nochunk"><a name="WS06ac295d95cf5a5c-5e9c45ae1343399641d-8000"><!-- --></a><h2 class="topictitle2">Specifying the supported languages</h2><div><p>Use the <samp class="codeph">&lt;supportedLanguages&gt;</samp> element
in the application descriptor file to identify the languages supported
by the application. This element is only used by iOS, Mac captive
runtime, and Android applications, and is ignored by all other application
types.</p>
<p>If you do not specify the <samp class="codeph">&lt;supportedLanguages&gt;</samp> element,
then by default the packager performs the following actions based
on the application type: </p>
<div class="para"><ul><li><p>iOS — All languages supported by the AIR runtime are
listed in the iOS app store as supported languages of the application. </p>
</li>
<li><p>Mac captive runtime — Application packaged with captive bundle
has no localization information.</p>
</li>
<li><p>Android — Application bundle has resources for all languages
supported by the AIR runtime.</p>
</li>
</ul>
</div>
<p>For more information, see <a href="WS06ac295d95cf5a5c-4601cdc2134337a7308-8000.html">supportedLanguages</a>.</p>
</div></div>
<div id="WS44BB0546-4BBD-4e9d-83C9-4B24748FD946" class="nochunk"><a name="WS44BB0546-4BBD-4e9d-83C9-4B24748FD946"><!-- --></a><h2 class="topictitle2">Defining resource bundles</h2><div><p>The HTML localization framework reads localized versions
of strings from <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">localization</i> files. A localization file is
a collection of key-based values, serialized in a text file. A localization
file is sometimes referred to as a <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">bundle</i>. </p>
<p>Create a subdirectory of your application project directory,
named locale. (You can also use a different name, see <a href="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88.html">Customizing AIR HTML Localizer settings</a>.) This directory will include the localization
files. This directory is known as the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">bundles directory</i>.</p>
<p>For each locale that your application supports, create a subdirectory
of the bundles directory. Name each subdirectory to match the locale
code. For example, name the French directory “fr” and name the English
directory “en.” You can use an underscore (_) character to define
a locale that has a language and country code. For example, name
the U.S. English directory “en_us.” (Alternately, you can use a
hyphen instead of an underscore, as in “en-us.” The HTML localization
framework supports both.)</p>
<p>You can add any number of resource files to a locale subdirectory.
Generally, you create a localization file for each language (and
place the file in the directory for that language). The HTML localization
framework includes a <samp class="codeph">getFile()</samp> method that allows
you to read the contents of a file (see <a href="WSD2923A44-4704-4021-9714-FF5725CA2C13.html">Getting resources for a specific locale</a>. </p>
<p>Files that have the .properties file extension are known as localization
properties files. You can use them to define key-value pairs for
a locale. A properties file defines one string value on each line.
For example, the following defines a string value <samp class="codeph">"Hello in English."</samp> for
a key named <samp class="codeph">greeting</samp>:</p>
<div class="para"><pre>greeting=Hello in English.</pre>
</div>
<p>A properties file containing the following text defines six key-value
pairs:</p>
<div class="para"><pre>title=Sample Application 
greeting=Hello in English. 
exitMessage=Thank you for using the application. 
color1=Red 
color2=Green 
color3=Blue</pre>
</div>
<p>This example shows an English version of the properties file,
to be stored in the en directory.</p>
<p>A French version of this properties file is placed in the fr
directory:</p>
<div class="para"><pre>title=Application Example 
greeting=Bonjour en français. 
exitMessage=Merci d'avoir utilisé cette application. 
color1=Rouge 
color2=Vert 
color3=Bleu</pre>
</div>
<p>You can define multiple resource files for different kinds of
information. For example, a legal.properties file may contain boilerplate
legal text (such as copyright information). You can reuse that resource
in multiple applications. Similarly, you can define separate files
that define localized content for different parts of the user interface.</p>
<p>Use UTF-8 encoding for these files, to support multiple languages. </p>
</div></div>
<div id="WS583B572D-CE0A-42b6-AAB2-24608D7B0786" class="nochunk"><a name="WS583B572D-CE0A-42b6-AAB2-24608D7B0786"><!-- --></a><h2 class="topictitle2">Managing locale chains</h2><div><p>When your application loads the AIRLocalizer.js file, it
examines the locales defined in your application. These locales
correspond to the subdirectories of the bundles directory (see <a href="WS44BB0546-4BBD-4e9d-83C9-4B24748FD946.html">Defining resource bundles</a>). This list of available locales is known
as the <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">locale chain</i>. The AIRLocalizer.js file automatically
sorts the locale chain based on the preferred order defined by the
operating system settings. (The <samp class="codeph">Capabilities.languages</samp> property
lists the operating system user interface languages, in preferred
order.)</p>
<p>So, if an application defines resources for "en", "en_US" and
"en_UK" locales, the AIR HTML Localizer framework sorts the locale
chain appropriately. When an application starts on a system that
reports "en" as the primary locale, the locale chain is sorted as <samp class="codeph">["en", "en_US", "en_UK"]</samp>.
In this case, the application looks for resources in the "en" bundle
first, then in the "en_US" bundle.</p>
<p>However, if the system reports "en-US" as the primary locale,
then the sorting uses <samp class="codeph">["en_US", "en", en_UK"]</samp>.
In this case, the application looks for resources in the "en_US"
bundle first, then in the "en" bundle.</p>
<p>By default, the application defines the first locale in the locale
chain as the default locale to use. You may ask the user to select
a locale upon first running the application. You may then choose
to store the selection in a preferences file and use that locale
in subsequent start-up of the application.</p>
<p>Your application can use resource strings in any locale in the
locale chain. If a specific locale does not define a resource string,
the application uses the next matching resource string for other
locales defined in the locale chain.</p>
<p>You can customize the locale chain by calling the <samp class="codeph">setLocaleChain()</samp> method of
the Localizer object. See <a href="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412.html">Defining the locale chain</a>.</p>
</div></div>
<div id="WS6F4C3F0F-6C68-433f-8DA4-6A233E366C8C" class="nochunk"><a name="WS6F4C3F0F-6C68-433f-8DA4-6A233E366C8C"><!-- --></a><h2 class="topictitle2">Updating the DOM elements with localized content</h2><div><p>An element in the application can reference a key value
in a localization properties file. For example, the <samp class="codeph">title</samp> element
in the following example specifies a <samp class="codeph">local_innerHTML</samp> attribute.
The localization framework uses this attribute to look up a localized
value. By default, the framework looks for attribute names that
start with <samp class="codeph">"local_"</samp>. The framework updates the
attributes that have names that match the text following <samp class="codeph">"local_"</samp>.
In this case, the framework sets the <samp class="codeph">innerHTML</samp> attribute
of the <samp class="codeph">title</samp> element. The <samp class="codeph">innerHTML</samp> attribute
uses the value defined for the <samp class="codeph">mainWindowTitle</samp> key
in the default properties file (default.properties):</p>
<div class="para"><pre>&lt;title local_innerHTML="default.mainWindowTitle"/&gt;</pre>
</div>
<p>If the current locale defines no matching value, then the localizer
framework searches the rest of the locale chain. It uses the next
locale in the locale chain for which a value is defined. </p>
<p>In the following example, the text (<samp class="codeph">innerHTML</samp> attribute)
of the <samp class="codeph">p</samp> element uses the value of the <samp class="codeph">greeting</samp> key
defined in the default properties file:</p>
<div class="para"><pre>&lt;p local_innerHTML="default.greeting" /&gt;</pre>
</div>
<p>In the following example, the value attribute (and displayed
text) of the <samp class="codeph">input</samp> element uses the value of the <samp class="codeph">btnBlue</samp> key
defined in the default properties file:</p>
<div class="para"><pre>&lt;input type="button" local_value="default.btnBlue" /&gt;</pre>
</div>
<p>To update the HTML DOM to use the strings defined in the current
locale chain, call the <samp class="codeph">update()</samp> method of the Localizer
object. Calling the <samp class="codeph">update()</samp> method causes the
Localizer object to parse the DOM and apply manipulations where
it finds localization (<samp class="codeph">"local_..."</samp>) attributes:</p>
<div class="para"><pre>air.Localizer.localizer.update();</pre>
</div>
<p>You can define values for both an attribute (such as "innerHTML")
and its corresponding localization attribute (such as "local_innerHTML").
In this case, the localization framework only overwrites the attribute
value if it finds a matching value in the localization chain. For
example, the following element defines both <samp class="codeph">value</samp> and <samp class="codeph">local_value</samp> attributes:</p>
<div class="para"><pre>&lt;input type="text" value="Blue" local_value="default.btnBlue"/&gt;</pre>
</div>
<p>You can also update a specific DOM element only. See the next
section, <a href="WSBA4E3544-35C5-48d5-825C-494B86E0C7DA.html">Updating DOM elements to use the current locale</a>.</p>
<p>By default, the AIR HTML Localizer uses <samp class="codeph">"local_"</samp> as
the prefix for attributes defining localization settings for an
element. For example, by default a <samp class="codeph">local_innerHTML</samp> attribute
defines the bundle and resource name used for the <samp class="codeph">innerHTML</samp> value
of an element. Also, by default a <samp class="codeph">local_value</samp> attribute defines
the bundle and resource name used for the <samp class="codeph">value</samp> attribute
of an element. You can configure the Localizer to use an attribute
prefix other than <samp class="codeph">"local_"</samp>. See <a href="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88.html">Customizing AIR HTML Localizer settings</a>.</p>
</div></div>
<div id="WSBA4E3544-35C5-48d5-825C-494B86E0C7DA" class="nochunk"><a name="WSBA4E3544-35C5-48d5-825C-494B86E0C7DA"><!-- --></a><h2 class="topictitle2">Updating DOM elements to use the current locale</h2><div><p>When the Localizer object updates the HTML DOM, it causes
marked elements to use attribute values based on strings defined
in the current locale chain. To have the HTML localizer update the
HTML DOM, call the <samp class="codeph">update()</samp> method of the <samp class="codeph">Localizer</samp> object:</p>
<div class="para"><pre>air.Localizer.localizer.update();</pre>
</div>
<p>To update only a specified DOM element, pass it as a parameter
to the <samp class="codeph">update()</samp> method. The <samp class="codeph">update()</samp> method
has only one parameter, <samp class="codeph">parentNode</samp>, which is optional.
When specified, the <samp class="codeph">parentNode</samp> parameter defines
the DOM element to localize. Calling the <samp class="codeph">update()</samp> method
and specifying a <samp class="codeph">parentNode</samp> parameter sets localized
values for all child elements that specify localization attributes. </p>
<p>For example, consider the following <samp class="codeph">div</samp> element:</p>
<div class="para"><pre>&lt;div id="colorsDiv"&gt; 
    &lt;h1 local_innerHTML="default.lblColors" &gt;&lt;/h1&gt; 
    &lt;p&gt;&lt;input type="button" local_value="default.btnBlue" /&gt;&lt;/p&gt; 
    &lt;p&gt;&lt;input type="button" local_value="default.btnRed" /&gt;&lt;/p&gt; 
    &lt;p&gt;&lt;input type="button" local_value="default.btnGreen" /&gt;&lt;/p&gt; 
&lt;/div&gt;</pre>
</div>
<p>To update this element to use localized strings defined in the
current locale chain, use the following JavaScript code:</p>
<div class="para"><pre>var divElement = window.document.getElementById("colorsDiv"); 
air.Localizer.localizer.update(divElement);</pre>
</div>
<p>If a key value is not found in the locale chain, the localization
framework sets the attribute value to the value of the <samp class="codeph">"local_"</samp> attribute.
For example, in the previous example, suppose the localization framework
cannot find a value for the <samp class="codeph">lblColors</samp> key (in any
of the default.properties files in the locale chain). In this case,
it uses <samp class="codeph">"default.lblColors"</samp> as the <samp class="codeph">innerHTML</samp> value.
Using this value indicates (to the developer) missing resources.</p>
<p>The <samp class="codeph">update()</samp> method dispatches a <samp class="codeph">resourceNotFound</samp> event
when it cannot find a resource in the locale chain. The <samp class="codeph">air.Localizer.RESOURCE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"resourceNotFound"</samp>. The event
has three properties: <samp class="codeph">bundleName</samp>, <samp class="codeph">resourceName</samp>,
and <samp class="codeph">locale</samp>. The <samp class="codeph">bundleName</samp> property
is the name of the bundle in which the resource is not found. The <samp class="codeph">resourceName</samp> property
is the name of the bundle in which the resource is not found. The <samp class="codeph">locale</samp> property
is the name of the locale in which the resource is not found.</p>
<p>The <samp class="codeph">update()</samp> method dispatches a <samp class="codeph">bundleNotFound</samp> event
when it cannot find the specified bundle. The <samp class="codeph">air.Localizer.BUNDLE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"bundleNotFound"</samp>. The event
has two properties: <samp class="codeph">bundleName</samp> and <samp class="codeph">locale</samp>.
The <samp class="codeph">bundleName</samp> property is the name of the bundle
in which the resource is not found. The <samp class="codeph">locale</samp> property
is the name of the locale in which the resource is not found. </p>
<p>The <samp class="codeph">update()</samp> method operates asynchronously
(and dispatches <samp class="codeph">resourceNotFound</samp> and <samp class="codeph">bundleNotFound</samp> events
asynchronously). The following code sets event listeners for the <samp class="codeph">resourceNotFound</samp> and <samp class="codeph">bundleNotFound</samp> events:</p>
<div class="para"><pre>air.Localizer.localizer.addEventListener(air.Localizer.RESOURCE_NOT_FOUND, rnfHandler); 
air.Localizer.localizer.addEventListener(air.Localizer.BUNDLE_NOT_FOUND, rnfHandler); 
air.Localizer.localizer.update(); 
function rnfHandler(event) 
{ 
    alert(event.bundleName + ": " + event.resourceName + ":." + event.locale); 
} 
function bnfHandler(event) 
{ 
    alert(event.bundleName + ":." + event.locale); 
}</pre>
</div>
</div></div>
<div id="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88" class="nochunk"><a name="WS9BB0CDF1-14C0-4c04-AD46-B0471154ED88"><!-- --></a><h2 class="topictitle2">Customizing AIR HTML Localizer settings</h2><div><p>The <samp class="codeph">setBundlesDirectory()</samp> method of the
Localizer object lets you customize the bundles directory path.
The <samp class="codeph">setLocalAttributePrefix()</samp> method of the Localizer
object lets you customize the bundles directory path and customize
the attribute value used by the Localizer.</p>
<p>The default bundles directory is defined as the locale subdirectory
of the application directory. You can specify another directory
by calling the <samp class="codeph">setBundlesDirectory()</samp> method of
the Localizer object. This method takes one parameter, <samp class="codeph">path</samp>,
which is the path to the desired bundles directory, as a string.
The value of the <samp class="codeph">path</samp> parameter can be any of the
following:</p>
<div class="para"><ul><li><p>A String defining a path relative to the application
directory, such as <samp class="codeph">"locales"</samp></p>
</li>
<li><p>A String defining a valid URL that uses the <samp class="codeph">app</samp>, <samp class="codeph">app-storage</samp>,
or <samp class="codeph">file</samp> URL schemes, such as <samp class="codeph">"app://languages"</samp> (do <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">not</i> use
the <samp class="codeph">http</samp> URL scheme)</p>
</li>
<li><p>A File object</p>
</li>
</ul>
</div>
<div class="para">For information on URLs and directory paths, see: <ul><li><p><a href="../../as3/dev/WS5b3ccc516d4fbf351e63e3d118666ade46-7fe4.html#WS5b3ccc516d4fbf351e63e3d118666ade46-7d9e" target="_self">Paths of File objects</a> (for ActionScript
developers)</p>
</li>
<li><p><a href="../html/dev/WS5b3ccc516d4fbf351e63e3d118666ade46-7fe4.html#WS5b3ccc516d4fbf351e63e3d118666ade46-7d9e" target="_self">Paths of File objects</a> (for HTML developers)</p>
</li>
</ul>
</div>
<p>For example, the following code sets the bundles directory to
a languages subdirectory of the application storage directory (not
the application directory):</p>
<div class="para"><pre>air.Localizer.localizer.setBundlesDirectory("languages");</pre>
</div>
<p>Pass a valid path as the <samp class="codeph">path</samp> parameter. Otherwise,
the method throws a BundlePathNotFoundError exception. This error
has <samp class="codeph">"BundlePathNotFoundError"</samp> as its <samp class="codeph">name</samp> property,
and its <samp class="codeph">message</samp> property specifies the invalid
path.</p>
<p>By default, the AIR HTML Localizer uses <samp class="codeph">"local_"</samp> as
the prefix for attributes defining localization settings for an
element. For example, the <samp class="codeph">local_innerHTML</samp> attribute
defines the bundle and resource name used for the <samp class="codeph">innerHTML</samp> value
of the following <samp class="codeph">input</samp> element: </p>
<div class="para"><pre>&lt;p local_innerHTML="default.greeting" /&gt;</pre>
</div>
<p>The <samp class="codeph">setLocalAttributePrefix()</samp> method of the
Localizer object lets you use an attribute prefix other than <samp class="codeph">"local_"</samp>.
This static method takes one parameter, which is the string you
want to use as the attribute prefix. For example, the following
code sets the localization framework to use "loc_" as the attribute
prefix:</p>
<div class="para"><pre>air.Localizer.localizer.setLocalAttributePrefix("loc_");</pre>
</div>
<p>You can customize the attribute prefix the localization framework
uses. You may want to customize the prefix if the default value
(<samp class="codeph">"local_"</samp>) conflicts with the name of another attribute
used by your code. Be sure to use valid characters for HTML attributes
when calling this method. (For example, the value cannot contain
a blank space character.)</p>
<p>For more information on using localization attributes in HTML
elements, see <a href="WS6F4C3F0F-6C68-433f-8DA4-6A233E366C8C.html">Updating the DOM elements with localized content</a>.</p>
<p>The bundles directory and attribute prefix settings do not persist
between different application sessions. If you use a custom bundles
directory or attribute prefix setting, be sure to set it each time
the application initiates.</p>
</div></div>
<div id="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412" class="nochunk"><a name="WS337B5ACC-0D17-42b1-80BF-B8F9F3A6D412"><!-- --></a><h2 class="topictitle2">Defining the locale chain</h2><div><p>By default, when you load the AIRLocalizer.js code, it
sets the default locale chain. The locales available in the bundles
directory and the operating system language settings define this
locale chain. (For details, see <a href="WS583B572D-CE0A-42b6-AAB2-24608D7B0786.html">Managing locale chains</a>.) </p>
<p>You can modify the locale chain by calling the static <samp class="codeph">setLocaleChain(</samp>) method
of the Localizer object. For example, you may want to call this
method if the user indicates a preference for a specific language.
The <samp class="codeph">setLocaleChain(</samp>) method takes one parameter, <samp class="codeph">chain</samp>,
which is an array of locales, such as <samp class="codeph">["fr_FR","fr","fr_CA"]</samp>.
The order of the locales in the array sets the order in which the
framework looks for resources (in subsequent operations). If a resource
is not found for the first locale in the chain, it continues looking
in the other locale’s resources. If the <samp class="codeph">chain</samp> argument
is missing, is not an array, or is an empty array, the function
fails and throws an IllegalArgumentsError exception.</p>
<p>The static <samp class="codeph">getLocaleChain()</samp> method of the Localizer
object returns an Array listing the locales in the current locale
chain. </p>
<p>The following code reads the current locale chain and adds two
French locales to the head of the chain:</p>
<div class="para"><pre>var currentChain = air.Localizer.localizer.getLocaleChain(); 
newLocales = ["fr_FR", "fr"]; 
air.Localizer.localizer.setLocaleChain(newLocales.concat(currentChain));</pre>
</div>
<p>The <samp class="codeph">setLocaleChain()</samp> method dispatches a <samp class="codeph">"change"</samp> event
when it updates the locale chain. The <samp class="codeph">air.Localizer.LOCALE_CHANGE</samp> constant defines
the string <samp class="codeph">"change"</samp>. The event has one property, <samp class="codeph">localeChain</samp>,
an array of locale codes in the new locale chain. The following
code sets an event listener for this event:</p>
<div class="para"><pre>var currentChain = air.Localizer.localizer.getLocaleChain(); 
newLocales = ["fr_FR", "fr"]; 
localizer.addEventListener(air.Localizer.LOCALE_CHANGE, changeHandler); 
air.Localizer.localizer.setLocaleChain(newLocales.concat(currentChain)); 
function changeHandler(event) 
{ 
    alert(event.localeChain); 
}</pre>
</div>
<p>The static <samp class="codeph">air.Localizer.ultimateFallbackLocale</samp> property
represents the locale used when the application supports no user
preference. The default value is <samp class="codeph">"en"</samp>. You can
set it to another locale, as shown in the following code:</p>
<div class="para"><pre>air.Localizer.ultimateFallbackLocale = "fr";</pre>
</div>
</div></div>
<div id="WSD2923A44-4704-4021-9714-FF5725CA2C13" class="nochunk"><a name="WSD2923A44-4704-4021-9714-FF5725CA2C13"><!-- --></a><h2 class="topictitle2">Getting resources for a specific locale</h2><div><div class="para">The <samp class="codeph">getString()</samp> method of the Localizer
object returns the string defined for a resource in a specific locale.
You do not need to specify a <samp class="codeph">locale</samp> value when calling
the method. In this case the method looks at the entire locale chain
and returns the string in the first locale that provides the given
resource name. The method has the following parameters:
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e28422"><p>Parameter</p>
</th>
<th valign="top" width="NaN%" id="d17e28425"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e28422 "><div class="para"><pre>bundleName</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28425 "><p>The bundle that contains the resource. This
is the filename of the properties file without the .properties extension.
(For example, if this parameter is set as <samp class="codeph">"alerts"</samp>,
the Localizer code looks in localization files named alerts.properties.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28422 "><div class="para"><pre>resourceName</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28425 "><p>The resource name.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28422 "><div class="para"><pre>templateArgs</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28425 "><p>Optional. An array of strings to replace
numbered tags in the replacement string. For example, consider a
call to the function where the <samp class="codeph">templateArgs</samp> parameter is <samp class="codeph">["Raúl", "4"]</samp> and
the matching resource string is <samp class="codeph">"Hello, {0}. You have {1} new messages."</samp>.
In this case, the function returns <samp class="codeph">"Hello, Raúl. You have 4 new messages."</samp>.
To ignore this setting, pass a <samp class="codeph">null</samp> value.</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28422 "><div class="para"><pre>locale</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28425 "><p>Optional. The locale code (such as <samp class="codeph">"en"</samp>, <samp class="codeph">"en_us"</samp>,
or <samp class="codeph">"fr"</samp>) to use. If a locale is provided and no
matching value is found, the method does not continue searching
for values in other locales in the locale chain. If no locale code
is specified, the function returns the string in the first locale
in the locale chain that provides a value for the given resource
name. </p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>The localization framework can update marked HTML DOM attributes.
However, you can use localized strings in other ways. For example,
you can use a string in some dynamically generated HTML or as a
parameter value in a function call. For example, the following code
calls the <samp class="codeph">alert()</samp> function with the string defined in
the <samp class="codeph">error114</samp> resource in the default properties
file of the fr_FR locale:</p>
<div class="para"><pre>alert(air.Localizer.localizer.getString("default", "error114", null, "fr_FR"));</pre>
</div>
<p>The <samp class="codeph">getString()</samp> method dispatches a <samp class="codeph">resourceNotFound</samp> event
when it it cannot find the resource in the specified bundle. The <samp class="codeph">air.Localizer.RESOURCE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"resourceNotFound"</samp>. The event
has three properties: <samp class="codeph">bundleName</samp>, <samp class="codeph">resourceName</samp>,
and <samp class="codeph">locale</samp>. The <samp class="codeph">bundleName</samp> property
is the name of the bundle in which the resource is not found. The <samp class="codeph">resourceName</samp> property
is the name of the bundle in which the resource is not found. The <samp class="codeph">locale</samp> property
is the name of the locale in which the resource is not found. </p>
<p>The <samp class="codeph">getString()</samp> method dispatches a <samp class="codeph">bundleNotFound</samp> event
when it cannot find the specified bundle. The <samp class="codeph">air.Localizer.BUNDLE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"bundleNotFound"</samp>. The event
has two properties: <samp class="codeph">bundleName</samp> and <samp class="codeph">locale</samp>.
The <samp class="codeph">bundleName</samp> property is the name of the bundle
in which the resource is not found. The <samp class="codeph">locale</samp> property
is the name of the locale in which the resource is not found. </p>
<p>The <samp class="codeph">getString()</samp> method operates asynchronously
(and dispatches the <samp class="codeph">resourceNotFound</samp> and the <samp class="codeph">bundleNotFound</samp> events
asynchronously). The following code sets event listeners for the <samp class="codeph">resourceNotFound</samp> and <samp class="codeph">bundleNotFound</samp> events:</p>
<div class="para"><pre>air.Localizerlocalizer.addEventListener(air.Localizer.RESOURCE_NOT_FOUND, rnfHandler); 
air.Localizerlocalizer.addEventListener(air.Localizer.BUNDLE_NOT_FOUND, bnfHandler); 
var str = air.Localizer.localizer.getString("default", "error114", null, "fr_FR"); 
function rnfHandler(event) 
{ 
    alert(event.bundleName + ": " + event.resourceName + ":." + event.locale); 
} 
function bnfHandler(event) 
{ 
    alert(event.bundleName + ":." + event.locale); 
}</pre>
</div>
<p>The <samp class="codeph">getResourceBundle()</samp> method of the Localizer
object returns a specified bundle for a given locale. The return
value of the method is an object with properties matching the keys
in the bundle. (If the application cannot find the specified bundle,
the method returns <samp class="codeph">null</samp>.)</p>
<div class="para">The method takes two parameters—<samp class="codeph">locale</samp> and <samp class="codeph">bundleName</samp>.
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e28601"><p>Parameter</p>
</th>
<th valign="top" width="NaN%" id="d17e28604"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e28601 "><div class="para"><pre>locale</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28604 "><p>The locale (such as <samp class="codeph">"fr"</samp>).</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28601 "><div class="para"><pre>bundleName</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28604 "><p>The bundle name.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<div class="para">For example, the following code calls the <samp class="codeph">document.write()</samp> method
to load the default bundle for the fr locale. It then calls the <samp class="codeph">document.write()</samp> method
to write values of the <samp class="codeph">str1</samp> and <samp class="codeph">str2</samp> keys
in that bundle:<pre>var aboutWin = window.open(); 
var bundle = localizer.getResourceBundle("fr", "default"); 
aboutWin.document.write(bundle.str1); 
aboutWin.document.write("&lt;br/&gt;"); 
aboutWin.document.write(bundle.str2); 
aboutWin.document.write("&lt;br/&gt;");</pre>
</div>
<p>The <samp class="codeph">getResourceBundle()</samp> method dispatches a <samp class="codeph">bundleNotFound</samp> event when
it cannot find the specified bundle. The <samp class="codeph">air.Localizer.BUNDLE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"bundleNotFound"</samp>. The event
has two properties: <samp class="codeph">bundleName</samp> and <samp class="codeph">locale</samp>.
The <samp class="codeph">bundleName</samp> property is the name of the bundle
in which the resource is not found. The <samp class="codeph">locale</samp> property
is the name of the locale in which the resource is not found. </p>
<div class="para">The <samp class="codeph">getFile()</samp> method of the Localizer object
returns the contents of a bundle, as a string, for a given locale.
The bundle file is read as a UTF-8 file. The method includes the
following parameters:
<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e28682"><p>Parameter</p>
</th>
<th valign="top" width="NaN%" id="d17e28685"><p>Description</p>
</th>
</tr>
</thead>
<tbody><tr><td valign="top" width="NaN%" headers="d17e28682 "><div class="para"><pre>resourceFileName</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28685 "><p>The filename of the resource file (such
as <samp class="codeph">"about.html"</samp>).</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28682 "><div class="para"><pre>templateArgs</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28685 "><p>Optional. An array of strings to replace
numbered tags in the replacement string. For example, consider a
call to the function where the <samp class="codeph">templateArgs</samp> parameter is <samp class="codeph">["Raúl", "4"]</samp> and
the matching resource file contains two lines:</p>
<div class="para"><pre>&lt;html&gt; 
&lt;body&gt;Hello, {0}. You have {1} new messages.&lt;/body&gt; 
&lt;/html&gt; </pre>
</div>
<p>In this case, the function returns
a string with two lines:</p>
<div class="para"><pre>&lt;html&gt; 
&lt;body&gt;Hello, Raúl. You have 4 new messages. &lt;/body&gt; 
&lt;/html&gt; </pre>
</div>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e28682 "><div class="para"><pre>locale</pre>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e28685 "><p>The locale code, such as <samp class="codeph">"en_GB"</samp>,
to use. If a locale is provided and no matching file is found, the
method does not continue searching in other locales in the locale chain.
If <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">no</i> locale code is specified, the function returns the
text in the first locale in the locale chain that has a file matching
the <samp class="codeph">resourceFileName</samp>.</p>
</td>
</tr>
</tbody>
</table>
</div>
</div>
<p>For example, the following code calls the <samp class="codeph">document.write()</samp> method
using the contents of the about.html file of the fr locale:</p>
<pre>var aboutWin = window.open(); 
var aboutHtml = localizer.getFile("about.html", null, "fr"); 
aboutWin.document.close(); 
aboutWin.document.write(aboutHtml);</pre>
<p>The <samp class="codeph">getFile()</samp> method dispatches a <samp class="codeph">fileNotFound</samp> event
when it cannot find a resource in the locale chain. The <samp class="codeph">air.Localizer.FILE_NOT_FOUND</samp> constant
defines the string <samp class="codeph">"resourceNotFound"</samp>. The <samp class="codeph">getFile()</samp> method operates
asynchronously (and dispatches the <samp class="codeph">fileNotFound</samp> event
asynchronously). The event has two properties: <samp class="codeph">fileName</samp> and <samp class="codeph">locale</samp>.
The <samp class="codeph">fileName</samp> property is the name of the file not
found. The <samp class="codeph">locale</samp> property is the name of the locale
in which the resource is not found. The following code sets an event listener
for this event:</p>
<div class="para"><pre>air.Localizer.localizer.addEventListener(air.Localizer.FILE_NOT_FOUND, fnfHandler); 
air.Localizer.localizer.getFile("missing.html", null, "fr"); 
function fnfHandler(event) 
{ 
    alert(event.fileName + ": " + event.locale); 
}</pre>
</div>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            <div id="relatedlinkinfo">More Help topics</div><div>
</div>
            <p xmlns:adobe="http://www.adobe.com/saxon"><a href="http://www.adobe.com/devnet/air/ajax/quickstart/articles/multilingual_air_apps.html" title="http://www.adobe.com/devnet/air/ajax/quickstart/articles/multilingual_air_apps.html">Building a multilingual HTML-based application</a></p>
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WSD079A3A2-1B38-4543-A792-06594E4325FE.html" title="Localizing the application name and description in the AIR application installer"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WSfffb011ac560372f-71994050128cca87097-8000.html" title="Path environment variables"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSB2927578-20D8-4065-99F3-00ACE6511EEE.html"><b>Localizing AIR applications</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed


  </body>
</html>