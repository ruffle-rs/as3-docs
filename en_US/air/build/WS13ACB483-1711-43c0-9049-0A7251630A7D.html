<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=UTF-8" />
    <meta name="lang" content="en-us" />
    <meta name="area" content="livedocs" />
    <title>Adobe&#160;AIR * Signing an updated version of an AIR application</title>
    <link rel="shortcut icon" href="images/AIR.ico" />
    <meta name="book" content="Building Adobe AIR Applications" />
    <meta name="product" content="adobe" /><meta name="product" content="air" /><meta name="product" content="flash" /><meta name="product" content="flex" />
    <meta name="keywords" content="" /><!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="Building Adobe AIR Applications"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
    
    <script type="text/javascript" language="Javascript" charset="UTF-8"><!--[CDATA[
        var currentTreeNode = "WS13ACB483-1711-43c0-9049-0A7251630A7D.html";
    document.cookie = "topicId=" + "WS13ACB483-1711-43c0-9049-0A7251630A7D.html";
// ]]--></script>
<script src="terms.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="help.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script>  <script src="utilities.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="event.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="treeview.js" type="text/javascript" language="Javascript" charset="UTF-8">...</script> <script src="toc.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script> <script src="https://help.adobe.com/en_US/air/build/swfobject.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>  <script src="booklist.js" language="Javascript" type="text/javascript" charset="UTF-8">..</script>
<script type="text/javascript">
<!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
</script>

<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->




    <link rel="stylesheet" type="text/css" href="tree.css" />
    <link rel="stylesheet" type="text/css" href="content.css" />
    <link rel="stylesheet" type="text/css" href="localeSpecific.css" />
  </head>
  <body id="content_body" onload="window.focus();">
    <a name="top" shape="rect"><!--LeaveCommentHere--></a>
    
    <div id="mnemonic">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon" class="AIR"><div class="banner"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html">Adobe&#160;AIR</a></div></div><!--googleon: index-->
    </div>
    
    <div id="searchbar">
<table id="searchbartable">
<tr>
<td colspan="2">
      <!--googleoff: index--><div xmlns:adobe="http://www.adobe.com/saxon"><div id="pdf"><img src="images/PDF.gif" width="16" height="16" /><a title="View Help PDF" href="air_buildingapps.pdf">View Help PDF (5.7MB)</a></div></div><!--googleon: index-->
</td>
</tr>
</table>
    </div>

<!-- BEGIN SEARCH CONTENT -->
<form id="search" name="search" action="https://help.adobe.com/en_US/air/build/search.html" target="_self">
<script type="text/javascript">
<!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
    document.cookie="ah_searchpref=" +p+ "; expires=" +expire.toGMTString()+ ";";
}

// ]]-->
</script> 
 </form>
<!-- END SEARCH CONTENT -->    



<!-- BEGIN PAGE CONTENT WRAPPER -->
    <div id="page_content_wrapper">
<!-- BEGIN PAGE WRAPPER -->
<table id="page_content_table">
<tr>

<td id="col2">
<!-- BEGIN CONTENT WRAPPER -->
<!-- BEGIN BREADCRUMBS -->

      
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f89.html" title="Signing an AIR intermediate file with ADT"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f74.html" title="Creating a self-signed certificate with ADT"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSfffb011ac560372f-19aa73f128cc9f05e8-8000.html"><b>Signing AIR applications</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
      <div id="content_wrapper">
<!-- BEGIN PAGE TITLE -->
        <h1>Signing an updated version of an AIR application</h1>
<!-- END PAGE TITLE -->
<!-- BEGIN IONCOMMENTCOUNT -->
        <div id="ionCount">
        </div>
<!-- END IONCOMMENTCOUNT -->
<table id="inner_content_table" width="100%" border="0" cellspacing="0" cellpadding="0"><tr><td>
          <div style="border-top:#ccc solid 1px;"><p> </p>
          </div>
<p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>



          <div id="minitoc"><div class="t"><div class="b"><div><ul id="minitoc-links"><li><p><a href="#WS2f73111e7a180bd0-7522d02d13c2b280a60-8000"><span class="topictitle1">Migrate an AIR application to use a new certificate</span>
</a></p></li><li><p><a href="#WS2f73111e7a180bd0-4961a21813c2b342df5-8000"><span class="topictitle1">Migrate a native installer AIR application to use a new certificate</span>
</a></p></li><li><p><a href="#WS2f73111e7a180bd0-7522d02d13c2b280a60-7fff"><span class="topictitle1">Migrate an AIR application that uses a native extension to use a new certificate</span>
</a></p></li></ul></div></div></div></div><div><p>Each
time you create an updated version of an existing AIR application
you sign the updated application. In the best case you can use the
same certificate to sign the updated version that you used to sign
the previous version. In that case the signing is exactly the same
as signing the application for the first time.</p>
<p>If the certificate used to sign the previous version of the application
has expired and been renewed or replaced, you can use the renewed
or new (replacement) certificate to sign the updated version. To
do this, you sign the application with the new certificate <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">and</i> you
apply a migration signature using the original certificate. The
migration signature validates that the original certificate owner
has published the update.</p>
<p>Before you apply a migration signature, consider the following
points:</p>
<ul><li><p>To apply a migration signature, the original certificate
must still be valid or have expired within the last 365 days. This
period is termed as the ‘grace period’ and the duration can change
in the future. </p>
<div class="para"><div class="note"><span class="notetitle">Note:  </span>Until AIR 2.6, the grace period was
180 days.</div>
</div>
</li>
<li><p>You cannot apply a migration signature after the certificate
expires and the 365 days grace period elapses. In that case, users
must uninstall the existing version before installing the updated
version.</p>
</li>
<li><p>The 365-day grace period only applies to applications specifying
AIR version 1.5.3 or higher in the application descriptor namespace.</p>
</li>
</ul>
<div class="important"><span class="importanttitle">Important:  </span>Signing updates with migration signatures
from expired certificates is a temporary solution. For a comprehensive
solution, create a standardized signing workflow to manage the deployment
of application updates. For example, sign each update with the latest
certificate and apply a migration certificate using the certificate
used to sign the previous update (if applicable). Upload each update
to its own URL from which users can download the application. For
more information, see <a href="WS8b24479264ec4228-36ce971912ccecd3180-8000.html">Signing workflow for application updates</a>.</div>
<p>The following table and figure summarize the workflow for migration
signatures:</p>

<div class="tablenoborder"><table border="1" cellpadding="4" cellspacing="0"><thead align="left"><tr><th valign="top" width="NaN%" id="d17e18713"><p>Scenario</p>
</th>
<th valign="top" width="NaN%" id="d17e18716"><p>State of Original Certificate</p>
</th>
<th valign="top" width="NaN%" id="d17e18719"><p>Developer Action</p>
</th>
<th valign="top" width="NaN%" id="d17e18722"><p>User Action</p>
</th>
</tr>
</thead>
<tbody><tr><td rowspan="3" valign="top" width="NaN%" headers="d17e18713 "><p>Application based on Adobe
AIR runtime version 1.5.3 or higher</p>
</td>
<td valign="top" width="NaN%" headers="d17e18716 "><p>Valid</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>Publish the latest version of the AIR application</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>No action required</p>
<p>Application automatically
upgrades</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e18716 "><p>Expired, but within 365-day grace period</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>Sign the application with the new certificate. Apply
a migration signature using the expired certificate.</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>No action required</p>
<p>Application automatically
upgrades</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e18716 "><p>Expired and not in grace period</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>You cannot apply the migration signature
to the AIR application update. </p>
<p>Instead, you must publish
another version of the AIR application using a new certificate. Users
can install the new version after uninstalling their existing version
of the AIR application.</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>Uninstall the current version of the AIR
application and install the latest version</p>
</td>
</tr>
<tr><td rowspan="2" valign="top" width="NaN%" headers="d17e18713 "><div class="para"><ul><li><p>Application based
on Adobe AIR runtime version 1.5.2 or lower</p>
</li>
<li><p>Publisher ID in the application descriptor of the update
matches publisher ID of the previous version</p>
</li>
</ul>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e18716 "><p>Valid</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>Publish the latest version of the AIR application</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>No action required</p>
<p>Application automatically
upgrades</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e18716 "><p>Expired and not in grace period</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>You cannot apply the migration signature
to the AIR application update. </p>
<p>Instead, you must publish
another version of the AIR application using a new certificate. Users
can install the new version after uninstalling their existing version
of the AIR application.</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>Uninstall the current version of the AIR
application and install the latest version</p>
</td>
</tr>
<tr><td valign="top" width="NaN%" headers="d17e18713 "><div class="para"><ul><li><p>Application based on Adobe AIR
runtime version 1.5.2 or lower</p>
</li>
<li><p>Publisher ID in the application descriptor of the update <strong>does not</strong> match
publisher ID of the previous version</p>
</li>
</ul>
</div>
</td>
<td valign="top" width="NaN%" headers="d17e18716 "><p>Any</p>
</td>
<td valign="top" width="NaN%" headers="d17e18719 "><p>Sign the air application using a valid certificate and
publish the latest version of the AIR application</p>
</td>
<td valign="top" width="NaN%" headers="d17e18722 "><p>Uninstall the current version of the AIR
application and install the latest version</p>
</td>
</tr>
</tbody>
</table>
</div>
<p><div xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema" class="fignone"><img alt="" id="ua_air_upgrade_process" src="images/ua_air_upgrade_process.png" /><div class="figdesc">Signing workflow for updates</div></div></p>
<ul class="navlinklist"></ul>
</div>
<div id="WS2f73111e7a180bd0-7522d02d13c2b280a60-8000" class="nochunk"><a name="WS2f73111e7a180bd0-7522d02d13c2b280a60-8000"><!-- --></a><h2 class="topictitle2">Migrate an AIR application to use a new certificate</h2><div><p>To migrate an AIR application to a new certificate while
updating the application:</p>
<ol><li><p>Create an update to your application</p>
</li>
<li><p>Package and sign the update AIR file with the <strong>new</strong> certificate</p>
</li>
<li><p>Sign the AIR file again with the <strong>original</strong> certificate
using the<samp class="codeph"> -migrate</samp> command</p>
</li>
</ol>
<p>An AIR file signed with the <samp class="codeph">-migrate</samp> command
can also be used to install a new version of the application, in
addition to being used to update any previous version signed with
the old certificate. </p>
<div class="note"><span class="notetitle">Note:  </span>When updating an application published for a version of AIR
earlier than1.5.3, specify the original publisher ID in the application
descriptor. Otherwise, users of your application must uninstall
the earlier version before installing the update.</div>
<p>Use the ADT -<samp class="codeph">migrate</samp> command with following
syntax:</p>
<pre>adt -migrate SIGNING_OPTIONS&#160;air_file_in&#160;air_file_out</pre>
<ul><li><p><strong>SIGNING_OPTIONS </strong>The signing options identify the
private key and certificate with which to sign the AIR file. These
options must identify the <strong>original</strong> signing certificate and
are described in <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f72.html">ADT code signing options</a>.</p>
</li>
<li><p><strong>air_file_in </strong>The AIR file for the update, signed with
the <strong>new</strong> certificate. </p>
</li>
<li><p><strong>air_file_out </strong>The AIR file to create. </p>
</li>
</ul>
<div class="note"><span class="notetitle">Note:  </span>The filenames used for the input and output AIR files must
be different.</div>
<p>The following example demonstrates calling ADT with the <samp class="codeph">-migrate</samp> flag
to apply a migration signature to an updated version of an AIR application:</p>
<pre>adt -migrate -storetype pkcs12 -keystore cert.p12 myAppIn.air myApp.air</pre>
<div class="note"><span class="notetitle">Note:  </span>The <samp class="codeph">-migrate</samp> command was added to ADT in
the AIR 1.1 release. </div>
</div></div>
<div id="WS2f73111e7a180bd0-4961a21813c2b342df5-8000" class="nochunk"><a name="WS2f73111e7a180bd0-4961a21813c2b342df5-8000"><!-- --></a><h2 class="topictitle2">Migrate a native installer AIR application to use a new certificate</h2><div><p>An AIR application that is published as a native installer
(for example, an application that uses the native extension api)
cannot be signed using the ADT <samp class="codeph">-migrate</samp> command
because it is a platform-specific native application, not a .air file.
Instead, to migrate an AIR application that is published as a native
extension to a new certificate:</p>
<ol><li><p>Create an update to your application.</p>
</li>
<li><p>Make sure that in your application descriptor (app.xml) file
the <samp class="codeph">&lt;supportedProfiles&gt;</samp> tag includes both
the desktop profile and the extendedDesktop profile (or remove the <samp class="codeph">&lt;supportedProfiles&gt;</samp> tag
from the application descriptor).</p>
</li>
<li><p>Package and sign the update application <strong>as a .air file</strong> using
the ADT <samp class="codeph">-package</samp> command with the <strong>new</strong> certificate.</p>
</li>
<li><p>Apply the migration certificate to the .air file using the
ADT <samp class="codeph">-migrate</samp> command with the <strong>original</strong> certificate
(as described previously in <a href="WS2f73111e7a180bd0-7522d02d13c2b280a60-8000.html">Migrate an AIR application to use a new certificate</a>).</p>
</li>
<li><p>Package the .air file into a native installer using the ADT <samp class="codeph">-package</samp> command with
the <samp class="codeph">-target native</samp> flag. Because the application
is already signed, you don’t specify a signing certificate as part
of this step.</p>
</li>
</ol>
<p>The following example demonstrates steps 3-5 of this process.
The code calls ADT with the <samp class="codeph">-package</samp> command, calls
ADT with the the <samp class="codeph">-migrate</samp> command, then calls ADT
with the <samp class="codeph">-package</samp> command again to package an updated version
of an AIR application as a native installer:</p>
<pre>adt -package -storetype pkcs12 -keystore new_cert.p12 myAppUpdated.air myApp.xml myApp.swf 
adt -migrate -storetype pkcs12 -keystore original_cert.p12 myAppUpdated.air myAppMigrate.air 
adt -package -target native myApp.exe myAppMigrate.air</pre>
</div></div>
<div id="WS2f73111e7a180bd0-7522d02d13c2b280a60-7fff" class="nochunk"><a name="WS2f73111e7a180bd0-7522d02d13c2b280a60-7fff"><!-- --></a><h2 class="topictitle2">Migrate an AIR application that uses a native extension to use a new certificate</h2><div><p>An AIR application that uses a native extension cannot
be signed using the ADT <samp class="codeph">-migrate</samp> command. It also
can’t be migrated using the procedure for migrating a native installer
AIR application because it can’t be published as an intermediate
.air file. Instead, to migrate an AIR application that uses a native extension
to a new certificate:</p>
<ol><li><p>Create an update to your application</p>
</li>
<li><p>Package and sign the update native installer using the ADT <samp class="codeph">-package</samp> command.
Package the application with the <strong>new</strong> certificate, and include
the <samp class="codeph">-migrate</samp> flag specifying the <strong>original</strong> certificate.</p>
</li>
</ol>
<p>Use the following syntax to call the ADT <samp class="codeph">-package</samp> command
with the -<samp class="codeph">migrate</samp> flag:</p>
<pre>adt -package AIR_SIGNING_OPTIONS&#160;-migrate MIGRATION_SIGNING_OPTIONS&#160;-target package_type NATIVE_SIGNING_OPTIONS&#160;output&#160;app_descriptor FILE_OPTIONS</pre>
<ul><li><p><strong>AIR_SIGNING_OPTIONS </strong>The signing options identify
the private key and certificate with which to sign the AIR file.
These options identify the <strong>new</strong> signing certificate and are
described in <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f72.html">ADT code signing options</a>.</p>
</li>
<li><p><strong>MIGRATION_SIGNING_OPTIONS </strong>The signing options identify
the private key and certificate with which to sign the AIR file.
These options identify the <strong>original</strong> signing certificate and
are described in <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f72.html">ADT code signing options</a>.</p>
</li>
<li><p>The other options are the same options used for packaging
a native installer AIR application and are described in <a href="WS901d38e593cd1bac1e63e3d128cdca935b-8000.html">ADT package command</a>.</p>
</li>
</ul>
<p>The following example demonstrates calling ADT with the <samp class="codeph">-package</samp> command and
the <samp class="codeph">-migrate</samp> flag to package an updated version
of an AIR application that uses a native extension and apply a migration
signature to the update:</p>
<pre>adt -package -storetype pkcs12 -keystore new_cert.p12 -migrate -storetype pkcs12 -keystore original_cert.p12 -target native myApp.exe myApp.xml myApp.swf</pre>
<div class="note"><span class="notetitle">Note:  </span>The <samp class="codeph">-migrate</samp> flag of the <samp class="codeph">-package</samp> command
is available in ADT in AIR 3.6 and later. </div>
</div></div>


<!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
<!-- END USER PREFERENCES -->

          <div id="related">
            
            
            <div class="separator"><a href="#top"><img src="images/BTT.jpg" /></a>&#160;</div>
          </div>
          <div id="footer">
<!-- BEGIN IONCOMMENTS -->
            <div id="ionComHere">
            </div>
<!-- END IONCOMMENTS -->


            <p id="creativecommons"><a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text"><img id="creativecommons_img" src="images/CC.png" alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" /></a>&nbsp;Twitter™ and Facebook posts are not covered under the terms of Creative Commons.</p>
          </div>
</td>
<td width="10px"></td>
<td id="inner_rightcolumn">

</td></tr></table>
      </div>
<!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
        
<ul class="navigation"><li class="prev"><a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f89.html" title="Signing an AIR intermediate file with ADT"><img src="images/blank.gif" alt="Previous" width="17" height="17" /></a></li><li class="next"><a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f74.html" title="Creating a self-signed certificate with ADT"><img src="images/blank.gif" alt="Next" width="17" height="17" /></a></li></ul><div class="hierarchy" id="hierarchy"><a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Home</b></a> / <a href="WS485a42d56cd19641-a9697f4124ef986fac-8000.html"><b>Building Adobe AIR Applications</b></a> / <a href="WSfffb011ac560372f-19aa73f128cc9f05e8-8000.html"><b>Signing AIR applications</b></a> 
     </div>

      </div>
<!-- END BREADCRUMBS -->
<!-- END CONTENT WRAPPER -->

</td>
<td id="col3">
    <div>
        <img src="images/adobe-lq.png" />
    </div>
</td>
</tr>
</table>
    </div>
<!-- END PAGE CONTENT WRAPPER -->
<script type="text/javascript">
<!--[CDATA[
scrollToNameAnchor();
// ]]-->
</script> 
<!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



<style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>



<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed


  </body>
</html>