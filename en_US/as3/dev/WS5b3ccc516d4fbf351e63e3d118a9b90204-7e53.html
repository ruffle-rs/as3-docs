<?xml version="1.0" encoding="UTF-8"?>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- saved from url=(0022)http://help.adobe.com/ -->
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="en-us" name="lang"/>
  <meta content="livedocs" name="area"/>
  <title>
   Adobe Flash Platform * Event handling example: Alarm Clock
  </title>
  <link href="https://help.adobe.com/en_US/as3/dev/images/FlashRuntimeLinkIndicator.png" rel="shortcut icon"/>
  <meta content="ActionScript 3.0 Developer’s Guide" name="book"/>
  <meta content="adobe" name="product"/>
  <meta content="air" name="product"/>
  <meta content="flash" name="product"/>
  <meta content="flex" name="product"/>
  <meta content="" name="keywords"/>
  <!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="ActionScript 3.0 Developer’s Guide"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
  <script charset="UTF-8" language="Javascript" type="text/javascript">
   <!--[CDATA[
        var currentTreeNode = "WS5b3ccc516d4fbf351e63e3d118a9b90204-7e53.html";
// ]]-->
  </script>
  <script charset="UTF-8" language="Javascript" src="terms.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="help.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="utilities.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="event.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="treeview.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="toc.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="swfobject.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="booklist.js" type="text/javascript">
   ..
  </script>
  <script type="text/javascript">
   <!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
  </script>
  
<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->


  
  
  <link href="tree.css" rel="stylesheet" type="text/css"/>
  <link href="content.css" rel="stylesheet" type="text/css"/>
  <link href="localeSpecific.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="content_body" onload="window.focus();">
  <a name="top" shape="rect">
   <!--LeaveCommentHere-->
  </a>
  <div id="mnemonic">
   <!--googleoff: index-->
   <div class="FlashRuntime" xmlns:adobe="http://www.adobe.com/saxon">
    <div class="banner">
     <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
      Adobe Flash Platform
     </a>
    </div>
   </div>
   <!--googleon: index-->
  </div>
  <div id="searchbar">
   <table id="searchbartable">
    <tr>
     <td colspan="2">
      <!--googleoff: index-->
      <div xmlns:adobe="http://www.adobe.com/saxon">
       <div id="pdf">
        <img height="16" src="images/PDF.gif" width="16"/>
        <a href="as3_devguide.pdf" title="View Help PDF">
         View Help PDF (
          18M
         B)
        </a>
       </div>
      </div>
      <!--googleon: index-->
     </td>
    </tr>
   </table>
  </div>
  <!-- BEGIN SEARCH CONTENT -->
  <form action="https://help.adobe.com/en_US/as3/dev/search.html" id="search" name="search" target="_self">
   <script type="text/javascript">
    <!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
}

// ]]-->
   </script>
  </form>
  <!-- END SEARCH CONTENT -->
  <!-- BEGIN PAGE CONTENT WRAPPER -->
  <div id="page_content_wrapper">
   <!-- BEGIN PAGE WRAPPER -->
   <table id="page_content_table">
    <tr>
     
     <td id="col2">
      <!-- BEGIN CONTENT WRAPPER -->
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e54.html" title="Event listeners">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSd75bf4610ec9e22f43855da312214da1d8f-8000.html" title="Working with application domains">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WSd75bf4610ec9e22f-63e6c4e812214d8b3af-8000.html">
         <b>
          Core ActionScript Classes
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7fca.html">
         <b>
          Handling events
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <div id="content_wrapper">
       <!-- BEGIN PAGE TITLE -->
       <h1>
        Event handling example: Alarm Clock
       </h1>
       <p class="adoberuntime">
        Flash Player 9 and later, Adobe AIR 1.0 and
later
       </p>
       <!-- END PAGE TITLE -->
       <!-- BEGIN IONCOMMENTCOUNT -->
       <div id="ionCount">
       </div>
       <!-- END IONCOMMENTCOUNT -->
       <table border="0" cellpadding="0" cellspacing="0" id="inner_content_table" width="100%">
        <tr>
         <td>
          <div style="border-top:#ccc solid 1px;">
           <p>
           </p>
          </div>
          <p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>


          <div id="minitoc">
           <div class="t">
            <div class="b">
             <div>
              <ul id="minitoc-links">
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b90204-7e44">
                  <span class="topictitle1">
                   Alarm Clock overview
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b90204-7e43">
                  <span class="topictitle1">
                   Triggering the alarm
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b90204-7e42">
                  <span class="topictitle1">
                   Notifying others of the alarm
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b90204-7e41">
                  <span class="topictitle1">
                   Providing a custom alarm event
                  </span>
                 </a>
                </p>
               </li>
              </ul>
             </div>
            </div>
           </div>
          </div>
          <div>
           <p>
            The Alarm Clock example consists of a clock
that allows the user to specify a time at which an alarm will go
off, as well as a message to be displayed at that time. The Alarm
Clock example builds on the SimpleClock application from
            <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e52.html">
             Working with dates and times
            </a>
            Alarm Clock illustrates several aspects of
working with events in ActionScript 3.0, including:
           </p>
           <ul>
            <li>
             <p>
              Listening and responding to an event
             </p>
            </li>
            <li>
             <p>
              Notifying listeners of an event
             </p>
            </li>
            <li>
             <p>
              Creating a custom event type
             </p>
            </li>
           </ul>
           <p>
            To get the Flash Professional application files for this sample,
see
            <a href="http://www.adobe.com/go/learn_programmingAS3samples_flash" target="_self">
             http://www.adobe.com/go/learn_programmingAS3samples_flash
            </a>
            .
To get the Flex application files for this sample, see
            <a href="http://www.adobe.com/go/as3examples" target="_self">
             http://www.adobe.com/go/as3examples
            </a>
            .
The Alarm Clock application files can be found in the Samples/AlarmClock
folder. The application includes these files:
           </p>
           <div class="tablenoborder">
            <table border="1" cellpadding="4" cellspacing="0">
             <thead align="left">
              <tr>
               <th id="d17e12087" valign="top" width="NaN%">
                <p>
                 File
                </p>
               </th>
               <th id="d17e12090" valign="top" width="NaN%">
                <p>
                 Description
                </p>
               </th>
              </tr>
             </thead>
             <tbody>
              <tr>
               <td headers="d17e12087 " valign="top" width="NaN%">
                <p>
                 AlarmClockApp.mxml
                </p>
                <p>
                 or
                </p>
                <p>
                 AlarmClockApp.fla
                </p>
               </td>
               <td headers="d17e12090 " valign="top" width="NaN%">
                <p>
                 The main application file in Flash (FLA)
or Flex (MXML).
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e12087 " valign="top" width="NaN%">
                <p>
                 com/example/programmingas3/clock/AlarmClock.as
                </p>
               </td>
               <td headers="d17e12090 " valign="top" width="NaN%">
                <p>
                 A class which extends the SimpleClock class,
adding alarm clock functionality.
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e12087 " valign="top" width="NaN%">
                <p>
                 com/example/programmingas3/clock/AlarmEvent.as
                </p>
               </td>
               <td headers="d17e12090 " valign="top" width="NaN%">
                <p>
                 A custom event class (a subclass of flash.events.Event)
which serves as the event object for the AlarmClock class’s
                 <samp class="codeph">
                  alarm
                 </samp>
                 event.
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e12087 " valign="top" width="NaN%">
                <p>
                 com/example/programmingas3/clock/AnalogClockFace.as
                </p>
               </td>
               <td headers="d17e12090 " valign="top" width="NaN%">
                <p>
                 Draws a round clock face and hour, minute,
and seconds hands based on the time (described in the SimpleClock
example).
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e12087 " valign="top" width="NaN%">
                <p>
                 com/example/programmingas3/clock/SimpleClock.as
                </p>
               </td>
               <td headers="d17e12090 " valign="top" width="NaN%">
                <p>
                 A clock interface component with simple
timekeeping functionality (described in the SimpleClock example).
                </p>
               </td>
              </tr>
             </tbody>
            </table>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e44">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e44">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Alarm Clock overview
           </h2>
           <div>
            <p>
             The primary functionality of the clock in this example, including
tracking the time and displaying the clock face, reuses the SimpleClock
application code, which is described in
             <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7f0e.html">
              Date and time example: Simple analog clock
             </a>
             . The AlarmClock class extends the SimpleClock
class from that example by adding the functionality required for
an alarm clock, including setting the alarm time and providing notification
when the alarm “goes off.”
            </p>
            <p>
             Providing notification when something happens is the job that
events are made for. The AlarmClock class exposes the Alarm event,
which other objects can listen for in order to perform desired actions.
In addition, the AlarmClock class uses an instance of the Timer
class to determine when to trigger its alarm. Like the AlarmClock
class, the Timer class provides an event to notify other objects
(an AlarmClock instance, in this case) when a certain amount of
time has passed. As with most ActionScript applications, events
form an important part of the functionality of the Alarm Clock sample
application.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e43">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e43">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Triggering the alarm
           </h2>
           <div>
            <p>
             As mentioned previously, the only functionality that the AlarmClock
class actually provides relates to setting and triggering the alarm.
The built-in Timer class (flash.utils.Timer) provides a way for
a developer to define code that will be executed after a specified
amount of time. The AlarmClock class uses a Timer instance to determine
when to set off the alarm.
            </p>
            <pre>    import flash.events.TimerEvent; 
    import flash.utils.Timer; 
 
    /** 
     * The Timer that will be used for the alarm. 
     */ 
    public var alarmTimer:Timer; 
    ... 
    /** 
     * Instantiates a new AlarmClock of a given size. 
     */ 
    public override function initClock(faceSize:Number = 200):void 
    { 
        super.initClock(faceSize); 
        alarmTimer = new Timer(0, 1); 
        alarmTimer.addEventListener(TimerEvent.TIMER, onAlarm); 
    }</pre>
            <p>
             The Timer instance defined in the AlarmClock class is named
             <samp class="codeph">
              alarmTimer
             </samp>
             .
The
             <samp class="codeph">
              initClock()
             </samp>
             method, which performs necessary
setup operations for the AlarmClock instance, does two things with
the
             <samp class="codeph">
              alarmTimer
             </samp>
             variable. First, the variable is
instantiated with parameters instructing the Timer instance to wait
0 milliseconds and only trigger its timer event one time. After
instantiating
             <samp class="codeph">
              alarmTimer
             </samp>
             , the code calls that variable’s
             <samp class="codeph">
              addEventListener()
             </samp>
             method to
indicate that it wants to listen to that variable’s
             <samp class="codeph">
              timer
             </samp>
             event.
A Timer instance works by dispatching its
             <samp class="codeph">
              timer
             </samp>
             event
after a specified amount of time has passed. The AlarmClock class
will need to know when the
             <samp class="codeph">
              timer
             </samp>
             event is dispatched
in order to set off its own alarm. By calling
             <samp class="codeph">
              addEventListener()
             </samp>
             , the
AlarmClock code registers itself as a listener with
             <samp class="codeph">
              alarmTimer
             </samp>
             .
The two parameters indicate that the AlarmClock class wants to listen
for the
             <samp class="codeph">
              timer
             </samp>
             event (indicated by the constant
             <samp class="codeph">
              TimerEvent.TIMER
             </samp>
             ),
and that when the event happens, the AlarmClock class’s
             <samp class="codeph">
              onAlarm()
             </samp>
             method
should be called in response to the event.
            </p>
            <p>
             In order to actually set the alarm, the AlarmClock class’s
             <samp class="codeph">
              setAlarm()
             </samp>
             method
is called, as follows:
            </p>
            <pre>    /** 
     * Sets the time at which the alarm should go off. 
     * @param hour The hour portion of the alarm time. 
     * @param minutes The minutes portion of the alarm time. 
     * @param message The message to display when the alarm goes off. 
     * @return The time at which the alarm will go off. 
     */ 
    public function setAlarm(hour:Number = 0, minutes:Number = 0, message:String = "Alarm!"):Date 
    { 
        this.alarmMessage = message; 
        var now:Date = new Date(); 
        // Create this time on today's date. 
        alarmTime = new Date(now.fullYear, now.month, now.date, hour, minutes); 
 
        // Determine if the specified time has already passed today. 
        if (alarmTime &lt;= now) 
        { 
            alarmTime.setTime(alarmTime.time + MILLISECONDS_PER_DAY); 
        } 
     
        // Stop the alarm timer if it's currently set. 
        alarmTimer.reset(); 
        // Calculate how many milliseconds should pass before the alarm should 
        // go off (the difference between the alarm time and now) and set that 
        // value as the delay for the alarm timer. 
        alarmTimer.delay = Math.max(1000, alarmTime.time - now.time); 
        alarmTimer.start(); 
     
        return alarmTime; 
    }</pre>
            <p>
             This method does several things, including storing the alarm
message and creating a Date object (
             <samp class="codeph">
              alarmTime
             </samp>
             )
representing the actual moment in time when the alarm is to go off.
Of most relevance to the current discussion, in the final several
lines of the method, the
             <samp class="codeph">
              alarmTimer
             </samp>
             variable’s
timer is set and activated. First, its
             <samp class="codeph">
              reset()
             </samp>
             method
is called, stopping the timer and resetting it in case it is already
running. Next, the current time (represented by the
             <samp class="codeph">
              now
             </samp>
             variable)
is subtracted from the
             <samp class="codeph">
              alarmTime
             </samp>
             variable’s value
to determine how many milliseconds need to pass before the alarm
goes off. The Timer class doesn’t trigger its
             <samp class="codeph">
              timer
             </samp>
             event
at an absolute time, so it is this relative time difference that
is assigned to the
             <samp class="codeph">
              delay
             </samp>
             property of
             <samp class="codeph">
              alarmTimer
             </samp>
             .
Finally, the
             <samp class="codeph">
              start()
             </samp>
             method is called to actually
start the timer.
            </p>
            <p>
             Once the specified amount of time has passed,
             <samp class="codeph">
              alarmTimer
             </samp>
             dispatches
the
             <samp class="codeph">
              timer
             </samp>
             event. Because the AlarmClock class registered
its
             <samp class="codeph">
              onAlarm()
             </samp>
             method as a listener for that event,
when the
             <samp class="codeph">
              timer
             </samp>
             event happens,
             <samp class="codeph">
              onAlarm()
             </samp>
             is called.
            </p>
            <pre>    /** 
     * Called when the timer event is dispatched. 
     */ 
    public function onAlarm(event:TimerEvent):void  
    { 
        trace("Alarm!"); 
        var alarm:AlarmEvent = new AlarmEvent(this.alarmMessage); 
        this.dispatchEvent(alarm); 
    }</pre>
            <p>
             A method that is registered as an event listener must be defined
with the appropriate signature (that is, the set of parameters and
return type of the method). To be a listener for the Timer class’s
             <samp class="codeph">
              timer
             </samp>
             event,
a method must define one parameter whose data type is TimerEvent
(flash.events.TimerEvent), a subclass of the Event class. When the
Timer instance calls its event listeners, it passes a TimerEvent
instance as the event object.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e42">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e42">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Notifying others of the alarm
           </h2>
           <div>
            <p>
             Like the Timer class, the AlarmClock class provides an event
that allows other code to receive notifications when the alarm goes
off. For a class to use the event-handling framework built into
ActionScript, that class must implement the flash.events.IEventDispatcher
interface. Most commonly, this is done by extending the flash.events.EventDispatcher
class, which provides a standard implementation of IEventDispatcher
(or by extending one of EventDispatcher’s subclasses). As described
previously, the AlarmClock class extends the SimpleClock class,
which (through a chain of inheritance) extends the EventDispatcher class.
All of this means that the AlarmClock class already has built-in
functionality to provide its own events.
            </p>
            <p>
             Other code can register to be notified of the AlarmClock class’s
             <samp class="codeph">
              alarm
             </samp>
             event
by calling the
             <samp class="codeph">
              addEventListener()
             </samp>
             method that AlarmClock
inherits from EventDispatcher. When an AlarmClock instance is ready
to notify other code that its
             <samp class="codeph">
              alarm
             </samp>
             event has been
raised, it does so by calling the
             <samp class="codeph">
              dispatchEvent()
             </samp>
             method,
which is also inherited from EventDispatcher.
            </p>
            <pre>        var alarm:AlarmEvent = new AlarmEvent(this.alarmMessage); 
        this.dispatchEvent(alarm);</pre>
            <p>
             These lines of code are taken from the AlarmClock class’s
             <samp class="codeph">
              onAlarm()
             </samp>
             method (shown
in its entirety previously). The AlarmClock instance’s
             <samp class="codeph">
              dispatchEvent()
             </samp>
             method
is called, which in turn notifies all the registered listeners that
the AlarmClock instance’s
             <samp class="codeph">
              alarm
             </samp>
             event has been
triggered. The parameter that is passed to
             <samp class="codeph">
              dispatchEvent()
             </samp>
             is
the event object that will be passed along to the listener methods.
In this case, it is an instance of the AlarmEvent class, an Event
subclass created specifically for this example.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e41">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e41">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Providing a custom alarm event
           </h2>
           <div>
            <p>
             All event listeners receive an event object parameter with information
about the particular event being triggered. In many cases, the event
object is an instance of the Event class. However, in some cases
it is useful to provide additional information to event listeners.
A common way to accomplish this is to define a new class, a subclass
of the Event class, and use an instance of that class as the event object.
In this example, an AlarmEvent instance is used as the event object
when the AlarmClock class’s
             <samp class="codeph">
              alarm
             </samp>
             event is dispatched.
The AlarmEvent class, shown here, provides additional information
about the
             <samp class="codeph">
              alarm
             </samp>
             event, specifically the alarm message:
            </p>
            <pre>    import flash.events.Event; 
     
    /** 
     * This custom Event class adds a message property to a basic Event. 
     */ 
    public class AlarmEvent extends Event  
    { 
        /** 
         * The name of the new AlarmEvent type. 
         */ 
        public static const ALARM:String = "alarm"; 
         
        /** 
         * A text message that can be passed to an event handler 
         * with this event object. 
         */ 
        public var message:String; 
         
        /** 
         *Constructor. 
         *@param message The text to display when the alarm goes off. 
         */ 
        public function AlarmEvent(message:String = "ALARM!") 
        { 
            super(ALARM); 
            this.message = message; 
        } 
        ... 
    }</pre>
            <p>
             The best way to create a custom event object class is to define
a class that extends the Event class, as shown in the preceding
example. To supplement the inherited functionality, the AlarmEvent
class defines a property
             <samp class="codeph">
              message
             </samp>
             that contains
the text of the alarm message associated with the event; the
             <samp class="codeph">
              message
             </samp>
             value
is passed in as a parameter in the AlarmEvent constructor. The AlarmEvent class
also defines the constant
             <samp class="codeph">
              ALARM
             </samp>
             , which can be used
to refer to the specific event (
             <samp class="codeph">
              alarm
             </samp>
             ) when calling
the AlarmClock class’s
             <samp class="codeph">
              addEventListener()
             </samp>
             method.
            </p>
            <p>
             In addition to adding custom functionality, every Event subclass
must override the inherited
             <samp class="codeph">
              clone()
             </samp>
             method as part
of the ActionScript event-handling framework. Event subclasses can
also optionally override the inherited
             <samp class="codeph">
              toString()
             </samp>
             method
to include the custom event’s properties in the value returned when
the
             <samp class="codeph">
              toString()
             </samp>
             method is called.
            </p>
            <pre>    /** 
     * Creates and returns a copy of the current instance. 
     * @return A copy of the current instance. 
     */ 
    public override function clone():Event 
    { 
        return new AlarmEvent(message); 
    } 
     
    /** 
     * Returns a String containing all the properties of the current 
     * instance. 
     * @return A string representation of the current instance. 
     */ 
    public override function toString():String 
    { 
        return formatToString("AlarmEvent", "type", "bubbles", "cancelable", "eventPhase", "message"); 
    }</pre>
            <p>
             The overridden
             <samp class="codeph">
              clone()
             </samp>
             method needs to return
a new instance of the custom Event subclass, with all the custom
properties set to match the current instance. In the overridden
             <samp class="codeph">
              toString()
             </samp>
             method,
the utility method
             <samp class="codeph">
              formatToString()
             </samp>
             (inherited
from Event) is used to provide a string with the name of the custom
type, as well as the names and values of all its properties.
            </p>
           </div>
          </div>
          <!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
          <!-- END USER PREFERENCES -->
          <div id="related">
           <div class="separator">
            <a href="#top">
             <img src="images/BTT.jpg"/>
            </a>
           </div>
          </div>
          <div id="footer">
           <!-- BEGIN IONCOMMENTS -->
           <div id="ionComHere">
           </div>
           <!-- END IONCOMMENTS -->
           

           <p id="creativecommons">
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text">
             <img alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" id="creativecommons_img" src="images/CC.png"/>
            </a>
            Twitter™ and Facebook posts are not covered under the terms of Creative Commons.
           </p>
          </div>
         </td>
         <td width="10px">
         </td>
         <td id="inner_rightcolumn">
          
         </td>
        </tr>
       </table>
      </div>
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e54.html" title="Event listeners">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSd75bf4610ec9e22f43855da312214da1d8f-8000.html" title="Working with application domains">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WSd75bf4610ec9e22f-63e6c4e812214d8b3af-8000.html">
         <b>
          Core ActionScript Classes
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7fca.html">
         <b>
          Handling events
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <!-- END CONTENT WRAPPER -->
      
     </td>
     <td id="col3">
      <div>
       <img src="images/adobe-lq.png"/>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <!-- END PAGE CONTENT WRAPPER -->
  <script type="text/javascript">
   <!--[CDATA[
scrollToNameAnchor();
// ]]-->
  </script>
  <!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



  <style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>


  
<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed
  
  
 </body>
</html>