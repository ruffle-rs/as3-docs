<?xml version="1.0" encoding="UTF-8"?>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- saved from url=(0022)http://help.adobe.com/ -->
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="en-us" name="lang"/>
  <meta content="livedocs" name="area"/>
  <title>
   Adobe Flash Platform * Video example: Video Jukebox
  </title>
  <link href="https://help.adobe.com/en_US/as3/dev/images/FlashRuntimeLinkIndicator.png" rel="shortcut icon"/>
  <meta content="ActionScript 3.0 Developer’s Guide" name="book"/>
  <meta content="adobe" name="product"/>
  <meta content="air" name="product"/>
  <meta content="flash" name="product"/>
  <meta content="flex" name="product"/>
  <meta content="" name="keywords"/>
  <!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="ActionScript 3.0 Developer’s Guide"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
  <script charset="UTF-8" language="Javascript" type="text/javascript">
   <!--[CDATA[
        var currentTreeNode = "WS5b3ccc516d4fbf351e63e3d118a9b90204-7d47.html";
// ]]-->
  </script>
  <script charset="UTF-8" language="Javascript" src="terms.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="help.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="utilities.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="event.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="treeview.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="toc.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="swfobject.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="booklist.js" type="text/javascript">
   ..
  </script>
  <script type="text/javascript">
   <!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
  </script>
  
<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->


  
  
  <link href="tree.css" rel="stylesheet" type="text/css"/>
  <link href="content.css" rel="stylesheet" type="text/css"/>
  <link href="localeSpecific.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="content_body" onload="window.focus();">
  <a name="top" shape="rect">
   <!--LeaveCommentHere-->
  </a>
  <div id="mnemonic">
   <!--googleoff: index-->
   <div class="FlashRuntime" xmlns:adobe="http://www.adobe.com/saxon">
    <div class="banner">
     <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
      Adobe Flash Platform
     </a>
    </div>
   </div>
   <!--googleon: index-->
  </div>
  <div id="searchbar">
   <table id="searchbartable">
    <tr>
     <td colspan="2">
      <!--googleoff: index-->
      <div xmlns:adobe="http://www.adobe.com/saxon">
       <div id="pdf">
        <img height="16" src="images/PDF.gif" width="16"/>
        <a href="as3_devguide.pdf" title="View Help PDF">
         View Help PDF (
          18M
         B)
        </a>
       </div>
      </div>
      <!--googleon: index-->
     </td>
    </tr>
   </table>
  </div>
  <!-- BEGIN SEARCH CONTENT -->
  <form action="https://help.adobe.com/en_US/as3/dev/search.html" id="search" name="search" target="_self">
   <script type="text/javascript">
    <!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
}

// ]]-->
   </script>
  </form>
  <!-- END SEARCH CONTENT -->
  <!-- BEGIN PAGE CONTENT WRAPPER -->
  <div id="page_content_wrapper">
   <!-- BEGIN PAGE WRAPPER -->
   <table id="page_content_table">
    <tr>
     
     <td id="col2">
      <!-- BEGIN CONTENT WRAPPER -->
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7d48.html" title="Advanced topics for video files">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-8000.html" title="Using the StageVideo class for hardware accelerated presentation">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WS9b644acd4ebe59995e75a2e812257746e5a-8000.html">
         <b>
          Rich Media Content
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e1a.html">
         <b>
          Working with video
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <div id="content_wrapper">
       <!-- BEGIN PAGE TITLE -->
       <h1>
        Video example: Video Jukebox
       </h1>
       <p class="adoberuntime">
        Flash Player 9 and later, Adobe AIR 1.0 and
later
       </p>
       <!-- END PAGE TITLE -->
       <!-- BEGIN IONCOMMENTCOUNT -->
       <div id="ionCount">
       </div>
       <!-- END IONCOMMENTCOUNT -->
       <table border="0" cellpadding="0" cellspacing="0" id="inner_content_table" width="100%">
        <tr>
         <td>
          <div style="border-top:#ccc solid 1px;">
           <p>
           </p>
          </div>
          <p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>


          <div id="minitoc">
           <div class="t">
            <div class="b">
             <div>
              <ul id="minitoc-links">
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd6">
                  <span class="topictitle1">
                   Loading an external video playlist file
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd5">
                  <span class="topictitle1">
                   Creating the user interface
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd4">
                  <span class="topictitle1">
                   Listening for a video object’s metadata
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd3">
                  <span class="topictitle1">
                   Dynamically loading a video
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd2">
                  <span class="topictitle1">
                   Controlling the volume of the video
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd1">
                  <span class="topictitle1">
                   Controlling video playback
                  </span>
                 </a>
                </p>
               </li>
              </ul>
             </div>
            </div>
           </div>
          </div>
          <div>
           <p>
            The following example builds a simple video
jukebox which dynamically loads a list of videos to play back in
a sequential order. This allows you to build an application that
lets a user browse through a series of video tutorials, or perhaps specifies
which advertisements should be played back before delivering the user’s
requested video. This example demonstrates the following features
of ActionScript 3.0:
           </p>
           <ul>
            <li>
             <p>
              Updating a playhead based on a video file’s playback
progress
             </p>
            </li>
            <li>
             <p>
              Listening for and parsing a video file’s metadata
             </p>
            </li>
            <li>
             <p>
              Handling specific codes in a net stream
             </p>
            </li>
            <li>
             <p>
              Loading, playing, pausing, and stopping a dynamically loaded
FLV
             </p>
            </li>
            <li>
             <p>
              Resizing a video object on the display list based on the
net stream’s metadata
             </p>
            </li>
           </ul>
           <p>
            To get the application files for this sample, see
            <a href="http://www.adobe.com/go/learn_programmingAS3samples_flash" target="_self">
             www.adobe.com/go/learn_programmingAS3samples_flash
            </a>
            .
The Video Jukebox application files can be found in the folder Samples/VideoJukebox.
The application consists of the following files:
           </p>
           <div class="tablenoborder">
            <table border="1" cellpadding="4" cellspacing="0">
             <thead align="left">
              <tr>
               <th id="d17e34434" valign="top" width="NaN%">
                <p>
                 File
                </p>
               </th>
               <th id="d17e34437" valign="top" width="NaN%">
                <p>
                 Description
                </p>
               </th>
              </tr>
             </thead>
             <tbody>
              <tr>
               <td headers="d17e34434 " valign="top" width="NaN%">
                <p>
                 VideoJukebox.fla
                </p>
                <p>
                 or
                </p>
                <p>
                 VideoJukebox.mxml
                </p>
               </td>
               <td headers="d17e34437 " valign="top" width="NaN%">
                <p>
                 The main application file for Flex (MXML)
or Flash (FLA).
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e34434 " valign="top" width="NaN%">
                <p>
                 VideoJukebox.as
                </p>
               </td>
               <td headers="d17e34437 " valign="top" width="NaN%">
                <p>
                 The class that provides the main functionality
of the application.
                </p>
               </td>
              </tr>
              <tr>
               <td headers="d17e34434 " valign="top" width="NaN%">
                <p>
                 playlist.xml
                </p>
               </td>
               <td headers="d17e34437 " valign="top" width="NaN%">
                <p>
                 A file that lists which video files will
be loaded into the video jukebox.
                </p>
               </td>
              </tr>
             </tbody>
            </table>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd6">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd6">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Loading an external video playlist file
           </h2>
           <div>
            <p>
             The external playlist.xml file specifies which videos to load,
and the order to play them back in. In order to load the XML file,
you need to use a URLLoader object and a URLRequest object, as seen
in the following code:
            </p>
            <pre>uldr = new URLLoader(); 
uldr.addEventListener(Event.COMPLETE, xmlCompleteHandler); 
uldr.load(new URLRequest(PLAYLIST_XML_URL));</pre>
            <p>
             This code is placed in the VideoJukebox class’s constructor so
the file is loaded before any other code is run. As soon as the
XML file has finished loading, the
             <samp class="codeph">
              xmlCompleteHandler()
             </samp>
             method
is called which parses the external file into an XML object, as
seen in the following code:
            </p>
            <pre>private function xmlCompleteHandler(event:Event):void 
{ 
    playlist = XML(event.target.data); 
    videosXML = playlist.video; 
    main(); 
}</pre>
            <p>
             The
             <samp class="codeph">
              playlist
             </samp>
             XML object contains the raw XML
from the external file, whereas the videos XML is an XMLList object
which contains just the video nodes. A sample playlist.xml file
can be seen in the following snippet:
            </p>
            <pre>&lt;videos&gt; 
    &lt;video url="video/caption_video.flv" /&gt; 
    &lt;video url="video/cuepoints.flv" /&gt; 
    &lt;video url="video/water.flv" /&gt; 
&lt;/videos&gt;</pre>
            <p>
             Finally, the
             <samp class="codeph">
              xmlCompleteHandler()
             </samp>
             method calls
the
             <samp class="codeph">
              main()
             </samp>
             method which sets up the various component
instances on the display list, as well as the NetConnection and
NetStream objects which are used to load the external FLV files.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd5">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd5">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Creating the user interface
           </h2>
           <div>
            <p>
             To build the user interface you need to drag five Button instances
onto the display list and give them the following instance names:
             <samp class="codeph">
              playButton
             </samp>
             ,
             <samp class="codeph">
              pauseButton
             </samp>
             ,
             <samp class="codeph">
              stopButton
             </samp>
             ,
             <samp class="codeph">
              backButton
             </samp>
             ,
and
             <samp class="codeph">
              forwardButton
             </samp>
             .
            </p>
            <p>
             For each of these Button instances, you’ll need to assign a handler
for the
             <samp class="codeph">
              click
             </samp>
             event, as seen in the following snippet:
            </p>
            <pre>playButton.addEventListener(MouseEvent.CLICK, buttonClickHandler); 
pauseButton.addEventListener(MouseEvent.CLICK, buttonClickHandler); 
stopButton.addEventListener(MouseEvent.CLICK, buttonClickHandler); 
backButton.addEventListener(MouseEvent.CLICK, buttonClickHandler); 
forwardButton.addEventListener(MouseEvent.CLICK, buttonClickHandler);</pre>
            <p>
             The
             <samp class="codeph">
              buttonClickHandler()
             </samp>
             method uses a switch
statement to determine which button instance was clicked, as seen
in the following code:
            </p>
            <pre>private function buttonClickHandler(event:MouseEvent):void 
{ 
    switch (event.currentTarget) 
    { 
        case playButton: 
            ns.resume(); 
            break; 
        case pauseButton: 
            ns.togglePause(); 
            break; 
        case stopButton: 
            ns.pause(); 
            ns.seek(0); 
            break; 
        case backButton: 
            playPreviousVideo(); 
            break; 
        case forwardButton: 
            playNextVideo(); 
            break; 
    } 
}</pre>
            <p>
             Next, add a Slider instance to the display list and give it an
instance name of
             <samp class="codeph">
              volumeSlider
             </samp>
             . The following code
sets the slider instance’s
             <samp class="codeph">
              liveDragging
             </samp>
             property
to
             <samp class="codeph">
              true
             </samp>
             and defines an event listener for the slider
instance’s
             <samp class="codeph">
              change
             </samp>
             event:
            </p>
            <pre>volumeSlider.value = volumeTransform.volume; 
volumeSlider.minimum = 0; 
volumeSlider.maximum = 1; 
volumeSlider.snapInterval = 0.1; 
volumeSlider.tickInterval = volumeSlider.snapInterval; 
volumeSlider.liveDragging = true; 
volumeSlider.addEventListener(SliderEvent.CHANGE, volumeChangeHandler);</pre>
            <p>
             Add a ProgressBar instance to the display list and give it an
instance name of
             <samp class="codeph">
              positionBar
             </samp>
             . Set its
             <samp class="codeph">
              mode
             </samp>
             property
to manual, as seen in the following snippet:
            </p>
            <pre>positionBar.mode = ProgressBarMode.MANUAL;</pre>
            <p>
             Finally add a Label instance to the display list and give it
an instance name of
             <samp class="codeph">
              positionLabel
             </samp>
             . This Label instance’s
value will be set by the timer instance
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd4">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd4">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Listening for a video object’s metadata
           </h2>
           <div>
            <p>
             When Flash Player encounters metadata for each of the loaded
videos, the
             <samp class="codeph">
              onMetaData()
             </samp>
             callback handler is called
on the NetStream object’s
             <samp class="codeph">
              client
             </samp>
             property. The
following code initializes an Object and sets up the specified callback
handler:
            </p>
            <pre>client = new Object(); 
client.onMetaData = metadataHandler;</pre>
            <p>
             The
             <samp class="codeph">
              metadataHandler()
             </samp>
             method copies its data
to the meta property defined earlier in the code. This allows you
to access the metadata for the current video anytime throughout
the entire application. Next, the video object on the Stage is resized
to match the dimensions returned from the metadata. Finally, the positionBar
progress bar instance is moved and resized based on the size of
the currently playing video. The following code contains the entire
             <samp class="codeph">
              metadataHandler()
             </samp>
             method:
            </p>
            <pre>private function metadataHandler(metadataObj:Object):void 
{ 
    meta = metadataObj; 
    vid.width = meta.width; 
    vid.height = meta.height; 
    positionBar.move(vid.x, vid.y + vid.height); 
    positionBar.width = vid.width; 
}</pre>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd3">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd3">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Dynamically loading a video
           </h2>
           <div>
            <p>
             To dynamically load each of the videos, the application uses
a NetConnection and a NetStream object. The following code creates
a NetConnection object and passes
             <samp class="codeph">
              null
             </samp>
             to the
             <samp class="codeph">
              connect()
             </samp>
             method.
By specifying
             <samp class="codeph">
              null
             </samp>
             , Flash Player connects to a
video on the local server instead of connecting to a server, such
as a Flash Media Server.
            </p>
            <p>
             The following code creates both the NetConnection and NetStream
instances, defines an event listener for the
             <samp class="codeph">
              netStatus
             </samp>
             event,
and assigns the
             <samp class="codeph">
              client
             </samp>
             Object to the
             <samp class="codeph">
              client
             </samp>
             property:
            </p>
            <pre>nc = new NetConnection(); 
nc.connect(null); 
 
ns = new NetStream(nc); 
ns.addEventListener(NetStatusEvent.NET_STATUS, netStatusHandler); 
ns.client = client;</pre>
            <p>
             The
             <samp class="codeph">
              netStatusHandler()
             </samp>
             method is called whenever
the status of the video is changed. This includes when a video starts
or stops playback, is buffering or if a video stream cannot be found.
The following code lists the
             <samp class="codeph">
              netStatusHandler()
             </samp>
             event:
            </p>
            <pre>private function netStatusHandler(event:NetStatusEvent):void 
{ 
    try 
    { 
        switch (event.info.code) 
        { 
            case "NetStream.Play.Start": 
                t.start(); 
                break; 
            case "NetStream.Play.StreamNotFound": 
            case "NetStream.Play.Stop": 
                t.stop(); 
                playNextVideo(); 
                break; 
        } 
    }  
    catch (error:TypeError)  
    { 
        // Ignore any errors. 
    } 
}</pre>
            <p>
             The previous code evaluates the code property of the info object
and filters whether the code is “NetStream.Play.Start”, “NetStream.Play.StreamNotFound”, or
“NetStream.Play.Stop”. All other codes will be ignored. If the net
stream is starting the code starts the Timer instance which updates
the playhead. If the net stream cannot be found or is stopped, the
Timer instance is stopped and the application attempts to play the
next video in the playlist.
            </p>
            <p>
             Every time the Timer executes, the
             <samp class="codeph">
              positionBar
             </samp>
             progress
bar instance updates its current position by calling the
             <samp class="codeph">
              setProgress()
             </samp>
             method
of the ProgressBar class and the
             <samp class="codeph">
              positionLabel
             </samp>
             Label
instance is updated with the time elapsed and total time of the
current video.
            </p>
            <pre>private function timerHandler(event:TimerEvent):void 
{ 
    try 
    { 
        positionBar.setProgress(ns.time, meta.duration); 
        positionLabel.text = ns.time.toFixed(1) + " of " meta.duration.toFixed(1) + " seconds"; 
    }  
    catch (error:Error) 
    { 
        // Ignore this error. 
    } 
}</pre>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd2">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd2">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Controlling the volume of the video
           </h2>
           <div>
            <p>
             You can control the volume for the dynamically loaded video by
setting the
             <samp class="codeph">
              soundTransform
             </samp>
             property on the NetStream
object. The video jukebox application allows you to modify the volume
level by changing the value of the
             <samp class="codeph">
              volumeSlider
             </samp>
             Slider
instance. The following code shows how you can change the volume
level by assigning the value of the Slider component to a SoundTransform
object which is set to the
             <samp class="codeph">
              soundTransform
             </samp>
             property
on the NetStream object:
            </p>
            <pre>private function volumeChangeHandler(event:SliderEvent):void 
{ 
    volumeTransform.volume = event.value; 
    ns.soundTransform = volumeTransform; 
}</pre>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd1">
           <a name="WS5b3ccc516d4fbf351e63e3d118a9b8f074-7fd1">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Controlling video playback
           </h2>
           <div>
            <p>
             The rest of the application controls video playback when the
video reaches the end of the video stream or the user skips to the
previous or next video.
            </p>
            <p>
             The following method retrieves the video URL from the XMLList
for the currently selected index:
            </p>
            <pre>private function getVideo():String 
{ 
    return videosXML[idx].@url; 
}</pre>
            <p>
             The
             <samp class="codeph">
              playVideo()
             </samp>
             method calls the
             <samp class="codeph">
              play()
             </samp>
             method
on the NetStream object to load the currently selected video:
            </p>
            <pre>private function playVideo():void 
{ 
    var url:String = getVideo(); 
    ns.play(url); 
}</pre>
            <p>
             The
             <samp class="codeph">
              playPreviousVideo()
             </samp>
             method decrements the
current video index, calls the
             <samp class="codeph">
              playVideo()
             </samp>
             method
to load the new video file and sets the progress bar to visible:
            </p>
            <pre>private function playPreviousVideo():void 
{ 
    if (idx &gt; 0) 
    { 
        idx--; 
        playVideo(); 
        positionBar.visible = true; 
    } 
}</pre>
            <p>
             The final method,
             <samp class="codeph">
              playNextVideo()
             </samp>
             , increments
the video index and calls the
             <samp class="codeph">
              playVideo()
             </samp>
             method.
If the current video is the last video in the playlist, the
             <samp class="codeph">
              clear()
             </samp>
             method
is called on the Video object and the progress bar instance’s
             <samp class="codeph">
              visible
             </samp>
             property
is set to
             <samp class="codeph">
              false
             </samp>
             :
            </p>
            <pre>private function playNextVideo():void 
{ 
    if (idx &lt; (videosXML.length() - 1)) 
    { 
        idx++; 
        playVideo(); 
        positionBar.visible = true; 
    } 
    else 
    { 
        idx++; 
        vid.clear(); 
        positionBar.visible = false; 
    } 
}</pre>
           </div>
          </div>
          <!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
          <!-- END USER PREFERENCES -->
          <div id="related">
           <div class="separator">
            <a href="#top">
             <img src="images/BTT.jpg"/>
            </a>
           </div>
          </div>
          <div id="footer">
           <!-- BEGIN IONCOMMENTS -->
           <div id="ionComHere">
           </div>
           <!-- END IONCOMMENTS -->
           

           <p id="creativecommons">
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text">
             <img alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" id="creativecommons_img" src="images/CC.png"/>
            </a>
            Twitter™ and Facebook posts are not covered under the terms of Creative Commons.
           </p>
          </div>
         </td>
         <td width="10px">
         </td>
         <td id="inner_rightcolumn">
          
         </td>
        </tr>
       </table>
      </div>
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7d48.html" title="Advanced topics for video files">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-8000.html" title="Using the StageVideo class for hardware accelerated presentation">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WS9b644acd4ebe59995e75a2e812257746e5a-8000.html">
         <b>
          Rich Media Content
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e1a.html">
         <b>
          Working with video
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <!-- END CONTENT WRAPPER -->
      
     </td>
     <td id="col3">
      <div>
       <img src="images/adobe-lq.png"/>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <!-- END PAGE CONTENT WRAPPER -->
  <script type="text/javascript">
   <!--[CDATA[
scrollToNameAnchor();
// ]]-->
  </script>
  <!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



  <style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>


  
<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed
  
  
 </body>
</html>