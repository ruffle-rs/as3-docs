<?xml version="1.0" encoding="UTF-8"?>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- saved from url=(0022)http://help.adobe.com/ -->
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="en-us" name="lang"/>
  <meta content="livedocs" name="area"/>
  <title>
   Adobe Flash Platform * Using the StageVideo APIs
  </title>
  <link href="https://help.adobe.com/en_US/as3/dev/images/FlashRuntimeLinkIndicator.png" rel="shortcut icon"/>
  <meta content="ActionScript 3.0 Developer’s Guide" name="book"/>
  <meta content="adobe" name="product"/>
  <meta content="air" name="product"/>
  <meta content="flash" name="product"/>
  <meta content="flex" name="product"/>
  <meta content="" name="keywords"/>
  <!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="ActionScript 3.0 Developer’s Guide"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
  <script charset="UTF-8" language="Javascript" type="text/javascript">
   <!--[CDATA[
        var currentTreeNode = "WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-8000.html";
// ]]-->
  </script>
  <script charset="UTF-8" language="Javascript" src="terms.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="help.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="utilities.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="event.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="treeview.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="toc.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="swfobject.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="booklist.js" type="text/javascript">
   ..
  </script>
  <script type="text/javascript">
   <!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
  </script>
  
<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->


  
  
  <link href="tree.css" rel="stylesheet" type="text/css"/>
  <link href="content.css" rel="stylesheet" type="text/css"/>
  <link href="localeSpecific.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="content_body" onload="window.focus();">
  <a name="top" shape="rect">
   <!--LeaveCommentHere-->
  </a>
  <div id="mnemonic">
   <!--googleoff: index-->
   <div class="FlashRuntime" xmlns:adobe="http://www.adobe.com/saxon">
    <div class="banner">
     <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
      Adobe Flash Platform
     </a>
    </div>
   </div>
   <!--googleon: index-->
  </div>
  <div id="searchbar">
   <table id="searchbartable">
    <tr>
     <td colspan="2">
      <!--googleoff: index-->
      <div xmlns:adobe="http://www.adobe.com/saxon">
       <div id="pdf">
        <img height="16" src="images/PDF.gif" width="16"/>
        <a href="as3_devguide.pdf" title="View Help PDF">
         View Help PDF (
          18M
         B)
        </a>
       </div>
      </div>
      <!--googleon: index-->
     </td>
    </tr>
   </table>
  </div>
  <!-- BEGIN SEARCH CONTENT -->
  <form action="https://help.adobe.com/en_US/as3/dev/search.html" id="search" name="search" target="_self">
   <script type="text/javascript">
    <!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
}

// ]]-->
   </script>
  </form>
  <!-- END SEARCH CONTENT -->
  <!-- BEGIN PAGE CONTENT WRAPPER -->
  <div id="page_content_wrapper">
   <!-- BEGIN PAGE WRAPPER -->
   <table id="page_content_table">
    <tr>
     
     <td id="col2">
      <!-- BEGIN CONTENT WRAPPER -->
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-7fff.html" title="About hardware acceleration using StageVideo">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSfffb011ac560372f3fa68e8912e3ab6b8cb-8000.html" title="Working with cameras">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WS9b644acd4ebe59995e75a2e812257746e5a-8000.html">
         <b>
          Rich Media Content
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e1a.html">
         <b>
          Working with video
         </b>
        </a>
        /
        <a href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-8000.html">
         <b>
          Using the StageVideo class for hardware accelerated presentation
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <div id="content_wrapper">
       <!-- BEGIN PAGE TITLE -->
       <h1>
        Using the StageVideo APIs
       </h1>
       <!-- END PAGE TITLE -->
       <!-- BEGIN IONCOMMENTCOUNT -->
       <div id="ionCount">
       </div>
       <!-- END IONCOMMENTCOUNT -->
       <table border="0" cellpadding="0" cellspacing="0" id="inner_content_table" width="100%">
        <tr>
         <td>
          <div style="border-top:#ccc solid 1px;">
           <p>
           </p>
          </div>
          <p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>


          <div id="minitoc">
           <div class="t">
            <div class="b">
             <div>
              <ul id="minitoc-links">
               <li>
                <p>
                 <a href="#WSe9ecd9e6b89aefd2-643a1d4712d9f42d85a-8000">
                  <span class="topictitle1">
                   Stage.stageVideos property
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-7ffc">
                  <span class="topictitle1">
                   StageVideo events
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSde6d84a960e7137c-2df50b7f12dcea41538-8000">
                  <span class="topictitle1">
                   Workflow for implementing the StageVideo feature
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSde6d84a960e7137c-2df50b7f12dcea41538-7fff">
                  <span class="topictitle1">
                   Initializing StageVideo event listeners
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-8000">
                  <span class="topictitle1">
                   Using the StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY event
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-7fff">
                  <span class="topictitle1">
                   Using the StageVideoEvent.RENDER_STATE and VideoEvent.RENDER_STATE events
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WSe9ecd9e6b89aefd2-70150d4b12ccd2cd415-7fff">
                  <span class="topictitle1">
                   Color spaces
                  </span>
                 </a>
                </p>
               </li>
              </ul>
             </div>
            </div>
           </div>
          </div>
          <div>
           <p>
            Stage video is a mechanism within the runtime that enhances
video playback and device performance. The runtime creates and maintains
this mechanism; as a developer, your role is to configure your application
to take advantage of it.
           </p>
           <p>
            To use stage video, you implement a framework of event handlers
that detect when stage video is and isn’t available. When you receive
notification that stage video is available, you retrieve a StageVideo
object from the
            <samp class="codeph">
             Stage.stageVideos
            </samp>
            property. The
runtime populates this Vector object with one or more StageVideo
objects. You can then use one of the provided StageVideo objects,
rather than a Video object, to display streaming video.
           </p>
           <p>
            On Flash Player, when you receive notification that stage video
is no longer available, switch your video stream back to a Video
object.
           </p>
           <div class="note">
            <span class="notetitle">
             Note:
            </span>
            You cannot create StageVideo objects.
           </div>
          </div>
          <div class="nochunk" id="WSe9ecd9e6b89aefd2-643a1d4712d9f42d85a-8000">
           <a name="WSe9ecd9e6b89aefd2-643a1d4712d9f42d85a-8000">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Stage.stageVideos property
           </h2>
           <div>
            <p>
             The
             <samp class="codeph">
              Stage.stageVideos
             </samp>
             property
is a Vector object that gives you access to StageVideo instances.
This vector can contain up to four StageVideo objects, depending
on hardware and system resources. Mobile devices can be limited
to one, or none.
            </p>
            <p>
             When stage video is not available, this vector contains no objects.
To avoid run time errors, be sure that you access members of this
vector only when the most recent
             <samp class="codeph">
              StageVideoAvailability
             </samp>
             event
indicates that stage video is available.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-7ffc">
           <a name="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-7ffc">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            StageVideo events
           </h2>
           <div>
            <p>
             The StageVideo API framework provides the following events:
            </p>
            <dl>
             <dt class="dlterm">
              StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY
             </dt>
             <dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
              Sent when the
              <samp class="codeph">
               Stage.stageVideos
              </samp>
              property
changes. The
              <samp class="codeph">
               StageVideoAvailabilityEvent.availability
              </samp>
              property
indicates either
              <samp class="codeph">
               AVAILABLE
              </samp>
              or
              <samp class="codeph">
               UNAVAILABLE
              </samp>
              .
Use this event to determine whether the
              <samp class="codeph">
               stageVideos
              </samp>
              property
contains any StageVideo objects, rather than directly checking the
length of the
              <samp class="codeph">
               Stage.stageVideos
              </samp>
              vector.
             </dd>
             <p class="dlseparator">
             </p>
             <dt class="dlterm">
              StageVideoEvent.RENDER_STATE
             </dt>
             <dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
              Sent when a NetStream or Camera object has been attached
to a StageVideo object and is playing. Indicates the type of decoding
currently in use: hardware, software, or unavailable (nothing is displayed).
The event target contains
              <samp class="codeph">
               videoWidth
              </samp>
              and
              <samp class="codeph">
               videoHeight
              </samp>
              properties
that are safe to use for resizing the video viewport.
              <div class="important">
               <span class="importanttitle">
                Important:
               </span>
               Coordinates obtained from the StageVideo
target object use Stage coordinates, since they are not part of
the standard display list.
              </div>
             </dd>
             <p class="dlseparator">
             </p>
             <dt class="dlterm">
              VideoEvent.RENDER_STATE
             </dt>
             <dd xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
              Sent when a Video object is being used. Indicates whether
software or hardware accelerated decoding is in use. If this event indicates
hardware accelerated decoding, switch to a StageVideo object if possible.
The Video event target contains
              <samp class="codeph">
               videoWidth
              </samp>
              and
              <samp class="codeph">
               videoHeight
              </samp>
              properties
that are safe to use for resizing the video viewport.
             </dd>
             <p class="dlseparator">
             </p>
            </dl>
           </div>
          </div>
          <div class="nochunk" id="WSde6d84a960e7137c-2df50b7f12dcea41538-8000">
           <a name="WSde6d84a960e7137c-2df50b7f12dcea41538-8000">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Workflow for implementing the StageVideo feature
           </h2>
           <div>
            <p>
             Follow these top-level steps to implement the StageVideo
feature:
            </p>
            <ol>
             <li>
              <p>
               Listen for the
               <samp class="codeph">
                StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY
               </samp>
               event
to find out when the
               <samp class="codeph">
                Stage.stageVideos
               </samp>
               vector has
changed. See
               <a href="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-8000.html">
                Using the StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY event
               </a>
               .
              </p>
             </li>
             <li>
              <p>
               If the
               <samp class="codeph">
                StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY
               </samp>
               event
reports that stage video is available, use the
               <samp class="codeph">
                Stage.stageVideos
               </samp>
               Vector
object within the event handler to access a StageVideo object.
              </p>
             </li>
             <li>
              <p>
               Attach a NetStream object using
               <samp class="codeph">
                StageVideo.attachNetStream()
               </samp>
               or attach
a Camera object using
               <samp class="codeph">
                StageVideo.attachCamera()
               </samp>
               .
              </p>
             </li>
             <li>
              <p>
               Play the video using
               <samp class="codeph">
                NetStream.play()
               </samp>
               .
              </p>
             </li>
             <li>
              <p>
               Listen for the
               <samp class="codeph">
                StageVideoEvent.RENDER_STATE
               </samp>
               event
on the StageVideo object to determine the status of playing the
video. Receipt of this event also indicates that the width and height
properties of the video have been initialized or changed. See
               <a href="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-7fff.html">
                Using the StageVideoEvent.RENDER_STATE and VideoEvent.RENDER_STATE events
               </a>
               .
              </p>
             </li>
             <li>
              <p>
               Listen for the
               <samp class="codeph">
                VideoEvent.RENDER_STATE
               </samp>
               event
on the Video object. This event provides the same statuses as
               <samp class="codeph">
                StageVideoEvent.RENDER_STATE,
               </samp>
               so
you can also use it to determine whether GPU acceleration is available.
Receipt of this event also indicates that the width and height properties
of the video have been initialized or changed. See
               <a href="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-7fff.html">
                Using the StageVideoEvent.RENDER_STATE and VideoEvent.RENDER_STATE events
               </a>
               .
              </p>
             </li>
            </ol>
           </div>
          </div>
          <div class="nochunk" id="WSde6d84a960e7137c-2df50b7f12dcea41538-7fff">
           <a name="WSde6d84a960e7137c-2df50b7f12dcea41538-7fff">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Initializing StageVideo event listeners
           </h2>
           <div>
            <p>
             Set up your StageVideoAvailabilityEvent and VideoEvent
listeners during application initialization. For example, you can
initialize these listeners in the
             <samp class="codeph">
              flash.events.Event.ADDED_TO_STAGE
             </samp>
             event
handler. This event guarantees that your application is visible
on the stage:
            </p>
            <pre>public class SimpleStageVideo extends Sprite 
    private var nc:NetConnection; 
    private var ns:NetStream; 
 
    public function SimpleStageVideo() 
    { 
        // Constructor for SimpleStageVideo class 
        // Make sure the app is visible and stage available 
        addEventListener(Event.ADDED_TO_STAGE, onAddedToStage); 
    } 
     
    private function onAddedToStage(event:Event):void 
    { 
        //... 
        // Connections 
        nc = new NetConnection(); 
        nc.connect(null); 
        ns = new NetStream(nc); 
        ns.addEventListener(NetStatusEvent.NET_STATUS, onNetStatus); 
        ns.client = this; 
 
        // Screen 
        video = new Video(); 
        video.smoothing = true; 
 
        // Video Events 
        // the StageVideoEvent.STAGE_VIDEO_STATE informs you whether 
        // StageVideo is available 
        stage.addEventListener(StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY, 
            onStageVideoState); 
        // in case of fallback to Video, listen to the VideoEvent.RENDER_STATE 
        // event to handle resize properly and know about the acceleration mode running 
        video.addEventListener(VideoEvent.RENDER_STATE, videoStateChange); 
        //... 
    }</pre>
           </div>
          </div>
          <div class="nochunk" id="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-8000">
           <a name="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-8000">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Using the StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY event
           </h2>
           <div>
            <p>
             In the
             <samp class="codeph">
              StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY
             </samp>
             handler,
decide whether to use a Video or StageVideo object based on the
availability of StageVideo. If the
             <samp class="codeph">
              StageVideoAvailabilityEvent.availability
             </samp>
             property
is set to
             <samp class="codeph">
              StageVideoAvailability.AVAILABLE
             </samp>
             , use
StageVideo. In this case, you can rely on the Stage.stageVideos
vector to contain one or more StageVideo objects. Obtain a StageVideo
object from the
             <samp class="codeph">
              Stage.stageVideos
             </samp>
             property and
attach the NetStream object to it. Because StageVideo objects always
appear in the background, remove any existing Video object (always
in the foreground). You also use this event handler to add a listener
for the
             <samp class="codeph">
              StageVideoEvent.RENDER_STATE
             </samp>
             event.
            </p>
            <p>
             If the
             <samp class="codeph">
              StageVideoAvailabilityEvent.availability
             </samp>
             property
is set to
             <samp class="codeph">
              StageVideoAvailability.UNAVAILABLE
             </samp>
             , do
not use StageVideo or access the
             <samp class="codeph">
              Stage.stageVideos
             </samp>
             vector.
In this case, attach the NetStream object to a Video object. Finally,
add the StageVideo or Video object to the stage and call
             <samp class="codeph">
              NetStream.play()
             </samp>
             .
            </p>
            <p>
             The following code shows how to handle the
             <samp class="codeph">
              StageVideoAvailabilityEvent.STAGE_VIDEO_AVAILABILITY
             </samp>
             event:
            </p>
            <pre>private var sv:StageVideo; 
private var video:Video; 
 
private function onStageVideoState(event:StageVideoAvailabilityEvent):void 
{     
    // Detect if StageVideo is available and decide what to do in toggleStageVideo 
    toggleStageVideo(event.availability == StageVideoAvailability.AVAILABLE); 
} 
 
private function toggleStageVideo(on:Boolean):void 
{     
    // To choose StageVideo attach the NetStream to StageVideo 
    if (on) 
    { 
        stageVideoInUse = true; 
        if ( sv == null ) 
        { 
            sv = stage.stageVideos[0]; 
            sv.addEventListener(StageVideoEvent.RENDER_STATE, stageVideoStateChange); 
                sv.attachNetStream(ns); 
        } 
 
        if (classicVideoInUse) 
        { 
            // If you use StageVideo, remove from the display list the 
            // Video object to avoid covering the StageVideo object 
            // (which is always in the background) 
            stage.removeChild ( video ); 
            classicVideoInUse = false; 
        } 
    } else 
    { 
        // Otherwise attach it to a Video object 
        if (stageVideoInUse) 
            stageVideoInUse = false; 
        classicVideoInUse = true; 
        video.attachNetStream(ns); 
        stage.addChildAt(video, 0); 
    } 
     
    if ( !played ) 
    { 
        played = true; 
        ns.play(FILE_NAME); 
    } 
} </pre>
            <div class="important">
             <span class="importanttitle">
              Important:
             </span>
             The first time an application accesses
the vector element at Stage.stageVideos[0], the default rect is
set to 0,0,0,0, and pan and zoom properties use default values.
Always reset these values to your preferred settings. You can use the
             <samp class="codeph">
              videoWidth
             </samp>
             and
             <samp class="codeph">
              videoHeight
             </samp>
             properties
of the
             <samp class="codeph">
              StageVideoEvent.RENDER_STATE
             </samp>
             or
             <samp class="codeph">
              VideoEvent.RENDER_STATE
             </samp>
             event
target for calculating the video viewport dimensions.
            </div>
            <p>
             Download the full source code for this sample application at
             <a href="http://www.adobe.com/go/learn_as3_usingstagevideo_en" target="_self">
              Getting Started with Stage Video
             </a>
             .
            </p>
           </div>
          </div>
          <div class="nochunk" id="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-7fff">
           <a name="WSe9ecd9e6b89aefd2-2046179612dc3d8edf2-7fff">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Using the StageVideoEvent.RENDER_STATE and VideoEvent.RENDER_STATE events
           </h2>
           <div>
            <p>
             StageVideo and Video objects send events that inform applications
when the display environment changes. These events are
             <samp class="codeph">
              StageVideoEvent.RENDER_STATE
             </samp>
             and
             <samp class="codeph">
              VideoEvent.RENDER_STATE
             </samp>
             .
            </p>
            <p>
             A StageVideo or Video object dispatches a render state event
when a NetStream object is attached and begins playing. It also
sends this event when the display environment changes; for example,
when the video viewport is resized. Use these notifications to reset
your viewport to the current
             <samp class="codeph">
              videoHeight
             </samp>
             and
             <samp class="codeph">
              videoWidth
             </samp>
             values
of the event target object.
            </p>
            <p>
             Reported render states include:
            </p>
            <ul>
             <li>
              <p>
               <samp class="codeph">
                RENDER_STATUS_UNAVAILABLE
               </samp>
              </p>
             </li>
             <li>
              <p>
               <samp class="codeph">
                RENDER_STATUS_SOFTWARE
               </samp>
              </p>
             </li>
             <li>
              <p>
               <samp class="codeph">
                RENDER_STATUS_ACCELERATED
               </samp>
              </p>
             </li>
            </ul>
            <p>
             Render states indicate when hardware accelerated decoding is
in use, regardless of which class is currently playing video. Check
the
             <samp class="codeph">
              StageVideoEvent.status
             </samp>
             property to learn whether
the necessary decoding is available. If this property is set to
“unavailable”, the StageVideo object cannot play the video. This
status requires that you immediately reattach the NetStream object
to a Video object. Other statuses inform your application of the
current rendering conditions.
            </p>
            <p>
             The following table describes the implications of all render
status values for StageVideoEvent and VideoEvent objects in Flash
Player:
            </p>
            <div class="tablenoborder">
             <table border="1" cellpadding="4" cellspacing="0">
              <thead align="left">
               <tr>
                <th id="d17e35193" valign="top" width="NaN%">
                </th>
                <th id="d17e35194" valign="top" width="NaN%">
                 <p>
                  VideoStatus.ACCELERATED
                 </p>
                </th>
                <th id="d17e35197" valign="top" width="NaN%">
                 <p>
                  VideoStatus.SOFTWARE
                 </p>
                </th>
                <th id="d17e35200" valign="top" width="NaN%">
                 <p>
                  VideoStatus.UNAVAILABLE
                 </p>
                </th>
               </tr>
              </thead>
              <tbody>
               <tr>
                <td headers="d17e35193 " valign="top" width="NaN%">
                 <p>
                  StageVideoEvent
                 </p>
                </td>
                <td headers="d17e35194 " valign="top" width="NaN%">
                 <p>
                  Decoding and presentation both occur in
hardware. (Best performance.)
                 </p>
                </td>
                <td headers="d17e35197 " valign="top" width="NaN%">
                 <p>
                  Presentation in hardware, decoding in software. (Acceptable
performance.)
                 </p>
                </td>
                <td headers="d17e35200 " valign="top" width="NaN%">
                 <p>
                  No GPU resources are available to handle
video, and nothing is displayed.
                  <strong>
                   Fall back to a Video object.
                  </strong>
                 </p>
                </td>
               </tr>
               <tr>
                <td headers="d17e35193 " valign="top" width="NaN%">
                 <p>
                  VideoEvent
                 </p>
                </td>
                <td headers="d17e35194 " valign="top" width="NaN%">
                 <p>
                  Presentation in software, decoding in hardware.
(Acceptable performance on a modern desktop system only. Degraded full-screen
performance.)
                 </p>
                </td>
                <td headers="d17e35197 " valign="top" width="NaN%">
                 <p>
                  Presentation in software, decoding in software. (Worst
case performance-wise. Degraded full-screen performance.)
                 </p>
                </td>
                <td headers="d17e35200 " valign="top" width="NaN%">
                 <p>
                  (N/A)
                 </p>
                </td>
               </tr>
              </tbody>
             </table>
            </div>
           </div>
          </div>
          <div class="nochunk" id="WSe9ecd9e6b89aefd2-70150d4b12ccd2cd415-7fff">
           <a name="WSe9ecd9e6b89aefd2-70150d4b12ccd2cd415-7fff">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Color spaces
           </h2>
           <div>
            <p>
             Stage video uses underlying hardware capabilities to support
color spaces. SWF content can provide metadata indicating its preferred
color space. However, the device graphics hardware determines whether
that color space can be used. One device can support several color
spaces, while another supports none. If the hardware does not support
the requested color space, Flash Player attempts to find the closest
match among the supported color spaces.
            </p>
            <p>
             To query which color spaces the hardware supports, use the
             <samp class="codeph">
              StageVideo.colorSpaces
             </samp>
             property.
This property returns the list of supported color spaces in a String
vector:
            </p>
            <pre>var colorSpace:Vector.&lt;String&gt; = stageVideo.colorSpaces();</pre>
            <p>
             To learn which color space the currently playing video is using,
check the
             <samp class="codeph">
              StageVideoEvent.colorSpace
             </samp>
             property.
Check this property in your event handler for the
             <samp class="codeph">
              StageVideoEvent.RENDER_STATE
             </samp>
             event:
            </p>
            <pre>var currColorSpace:String; 
 
//StageVideoEvent.RENDER_STATE event handler 
private function stageVideoRenderState(event:Object):void 
{ 
    //... 
    currColorSpace = (event as StageVideoEvent).colorSpace; 
    //... 
}</pre>
            <p>
             If Flash Player cannot find a substitute for an unsupported color
space, stage video uses the default color space BT.601. For example,
video streams with H.264 encoding typically use the BT.709 color
space. If the device hardware does not support BT.709, the
             <samp class="codeph">
              colorSpace
             </samp>
             property
returns
             <samp class="codeph">
              "BT601"
             </samp>
             . A
             <samp class="codeph">
              StageVideoEvent.colorSpace
             </samp>
             value
of
             <samp class="codeph">
              "unknown"
             </samp>
             indicates that the hardware does not
provide a means of querying the color space.
            </p>
            <p>
             If your application deems the current color space unacceptable,
you can choose to switch from a StageVideo object to a Video object.
The Video class supports all color spaces through software compositing.
            </p>
           </div>
          </div>
          <!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
          <!-- END USER PREFERENCES -->
          <div id="related">
           <div class="separator">
            <a href="#top">
             <img src="images/BTT.jpg"/>
            </a>
           </div>
          </div>
          <div id="footer">
           <!-- BEGIN IONCOMMENTS -->
           <div id="ionComHere">
           </div>
           <!-- END IONCOMMENTS -->
           

           <p id="creativecommons">
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text">
             <img alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" id="creativecommons_img" src="images/CC.png"/>
            </a>
            Twitter™ and Facebook posts are not covered under the terms of Creative Commons.
           </p>
          </div>
         </td>
         <td width="10px">
         </td>
         <td id="inner_rightcolumn">
          
         </td>
        </tr>
       </table>
      </div>
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-7fff.html" title="About hardware acceleration using StageVideo">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WSfffb011ac560372f3fa68e8912e3ab6b8cb-8000.html" title="Working with cameras">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WS9b644acd4ebe59995e75a2e812257746e5a-8000.html">
         <b>
          Rich Media Content
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118a9b90204-7e1a.html">
         <b>
          Working with video
         </b>
        </a>
        /
        <a href="WSe9ecd9e6b89aefd2-68d5ef8f12cc8511f6c-8000.html">
         <b>
          Using the StageVideo class for hardware accelerated presentation
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <!-- END CONTENT WRAPPER -->
      
     </td>
     <td id="col3">
      <div>
       <img src="images/adobe-lq.png"/>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <!-- END PAGE CONTENT WRAPPER -->
  <script type="text/javascript">
   <!--[CDATA[
scrollToNameAnchor();
// ]]-->
  </script>
  <!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



  <style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>


  
<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed
  
  
 </body>
</html>