<?xml version="1.0" encoding="UTF-8"?>
<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html
  PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- saved from url=(0022)http://help.adobe.com/ -->
<!-- saved from url=(0022)http://help.adobe.com/ -->
<html lang="en-us">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="content-type"/>
  <meta content="en-us" name="lang"/>
  <meta content="livedocs" name="area"/>
  <title>
   Adobe Flash Platform * Cross-scripting content in different security sandboxes
  </title>
  <link href="https://help.adobe.com/en_US/as3/dev/images/FlashRuntimeLinkIndicator.png" rel="shortcut icon"/>
  <meta content="ActionScript 3.0 Developer’s Guide" name="book"/>
  <meta content="adobe" name="product"/>
  <meta content="air" name="product"/>
  <meta content="flash" name="product"/>
  <meta content="flex" name="product"/>
  <meta content="" name="keywords"/>
  <!--<PageMap><DataObject type="document"><Attribute name="product" value="adobe"></Attribute><Attribute name="product" value="air"></Attribute><Attribute name="product" value="flash"></Attribute><Attribute name="product" value="flex"></Attribute><Attribute name="book" value="ActionScript 3.0 Developer’s Guide"></Attribute><Attribute name="keywords" value=""></Attribute></DataObject></PageMap>-->
  <script charset="UTF-8" language="Javascript" type="text/javascript">
   <!--[CDATA[
        var currentTreeNode = "WS5b3ccc516d4fbf351e63e3d118666ade46-7f08.html";
// ]]-->
  </script>
  <script charset="UTF-8" language="Javascript" src="terms.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="help.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="utilities.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="event.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="treeview.js" type="text/javascript">
   ...
  </script>
  <script charset="UTF-8" language="Javascript" src="toc.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="swfobject.js" type="text/javascript">
   ..
  </script>
  <script charset="UTF-8" language="Javascript" src="booklist.js" type="text/javascript">
   ..
  </script>
  <script type="text/javascript">
   <!--[CDATA[
var topictype = "topic";
var headId = document.getElementsByTagName("head")[0];         
if (use_ie_6_behavior) {
  var linkId = document.createElement("link");
  linkId.href = "content-ie6.css";
  linkId.rel = "stylesheet";
  linkId.type = "text/css";
  headId.appendChild(linkId);
}
function initRoboHelpDOM() {
  if (use_chm_behavior) {
    hideElement("search");
  }
  if (use_robohelp_behavior) {
    hideElement("search");
    hideElement("productmenu");
    //hideElement("notyourversion");
  }
  if(!use_chc_behavior) {
    //document.getElementById("notyourversion").style.display = "inline";;
  }
}
var dirname = location.pathname.match( /.*\// );    
function setSearchUserPref(){
  if ( document.cookie.indexOf( "ah_searchpref" ) > -1 ) {
    if ( document.cookie.indexOf( dirname ) > 0 ) {
      document.search.gsa.checked = true ;
    }else{
      document.search.gsa.checked = false ;            
    }
  }
}
YAHOO.util.Event.onDOMReady(initRoboHelpDOM);
YAHOO.util.Event.onDOMReady(setSearchUserPref);
// ]]-->
  </script>
  
<!-- ********************************** -->
<!-- START: ForeSee survey code in: /ssi/globalheader.ssi -->

<script type="text/javascript">
<!-- 
// Enable the survey for only English, German and Japanese
var agt=navigator.userAgent.toLowerCase();
if ( agt.indexOf("community help client") == -1 ){
    if ( document.location.href.indexOf("/en_US/") != -1 ){
        showSurvey();
//    }else if (document.location.href.indexOf("/de_DE/") != -1){
//         var locale="de";
//         showSurvey();
    }else if (document.location.href.indexOf("/ja_JP/") != -1 ){
         var locale="ja";
         showSurvey();
    }	
}

function showSurvey(){
	//document.write('<script type="text/javascript" src="/js/foresee/foresee-trigger.js"><\/scr'+'ipt>');
    // DO NOTHING
}

// -->
</script>

<!-- END: ForeSee survey code -->
<!-- ******************************** -->


  
  
  <link href="tree.css" rel="stylesheet" type="text/css"/>
  <link href="content.css" rel="stylesheet" type="text/css"/>
  <link href="localeSpecific.css" rel="stylesheet" type="text/css"/>
 </head>
 <body id="content_body" onload="window.focus();">
  <a name="top" shape="rect">
   <!--LeaveCommentHere-->
  </a>
  <div id="mnemonic">
   <!--googleoff: index-->
   <div class="FlashRuntime" xmlns:adobe="http://www.adobe.com/saxon">
    <div class="banner">
     <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
      Adobe Flash Platform
     </a>
    </div>
   </div>
   <!--googleon: index-->
  </div>
  <div id="searchbar">
   <table id="searchbartable">
    <tr>
     <td colspan="2">
      <!--googleoff: index-->
      <div xmlns:adobe="http://www.adobe.com/saxon">
       <div id="pdf">
        <img height="16" src="images/PDF.gif" width="16"/>
        <a href="as3_devguide.pdf" title="View Help PDF">
         View Help PDF (
          18M
         B)
        </a>
       </div>
      </div>
      <!--googleon: index-->
     </td>
    </tr>
   </table>
  </div>
  <!-- BEGIN SEARCH CONTENT -->
  <form action="https://help.adobe.com/en_US/as3/dev/search.html" id="search" name="search" target="_self">
   <script type="text/javascript">
    <!--[CDATA[
if ( !use_chc_behavior ){
    if (typeof(terms_AHV_SEARCH_CONSTRAINT) != "undefined" && 
        terms_AHV_SEARCH_CONSTRAINT.length > 0 && 
        document.location.href.indexOf(".adobe.com") > 0){
        if ( typeof(terms_SEARCH_THIS_HELP_ONLY) != "undefined" && terms_SEARCH_THIS_HELP_ONLY == "ON" ) {
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                checked="checked" \
                value="1" ><\/input>'); 
                
        // Leave the "Search this help system only" checkbox unckecked
        }else{    
            document.write('<div id="searchscope"> \
                <input onchange="setAHSearchPref();" \
                class="gsa" \
                name="gsa" \
                id="gsa" \
                type="checkbox" \
                value="1" ><\/input>'); 
        }
        document.write('<span class="gsalabel">' + terms_AHV_SEARCH_CONSTRAINT + '<\/span><\/div>'); 
    }
    document.write('<input class="searchinput" \
        name="q" \
        id="q" \
        type="text" \
        maxlength="256" \
        value="' + terms_AHV_SEARCH_BUTTON + '" \
        onclick="clearSearch()"><\/input><input \
        type="button" \
        name="searchbutton" \
        class="searchbutton" \
        onclick="submit()"><\/input>'); 
} 
 
/* 
 * Start Functions 
 */
function clearSearch(){
    if (document.search.q.value == terms_AHV_SEARCH_BUTTON){document.search.q.value = ""}; 
}

// set search preferences
function setAHSearchPref(){
    if (document.search.gsa.checked == 1){
        setAHSearchCookie( dirname );
    }else{
        setAHSearchCookie( "community" );
    }
}

// Set search preferences cookie
function setAHSearchCookie( p ){
    // set cookie ah_searchpref with a value of the document path
    var expire=new Date();
    expire.setDate(expire.getDate()+365); // Cookie expires after 1 year (365 days) 
}

// ]]-->
   </script>
  </form>
  <!-- END SEARCH CONTENT -->
  <!-- BEGIN PAGE CONTENT WRAPPER -->
  <div id="page_content_wrapper">
   <!-- BEGIN PAGE WRAPPER -->
   <table id="page_content_table">
    <tr>
     
     <td id="col2">
      <!-- BEGIN CONTENT WRAPPER -->
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f09.html" title="Manipulating an HTML stylesheet from ActionScript">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7ebd.html" title="Scripting the AIR HTML Container">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WSd75bf4610ec9e22f-36d6e6212214a698a8-8000.html">
         <b>
          HTML content in Adobe AIR
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7fa7.html">
         <b>
          Programming HTML and JavaScript in AIR
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <div id="content_wrapper">
       <!-- BEGIN PAGE TITLE -->
       <h1>
        Cross-scripting content in different security sandboxes
       </h1>
       <p class="adoberuntime">
        Adobe AIR 1.0 and later
       </p>
       <!-- END PAGE TITLE -->
       <!-- BEGIN IONCOMMENTCOUNT -->
       <div id="ionCount">
       </div>
       <!-- END IONCOMMENTCOUNT -->
       <table border="0" cellpadding="0" cellspacing="0" id="inner_content_table" width="100%">
        <tr>
         <td>
          <div style="border-top:#ccc solid 1px;">
           <p>
           </p>
          </div>
          <p id="chcPromo" style="display:none;">
<a id="chcLink" href="http://www.adobe.com/support/chc/">
<img id="chcImage" src="http://www.adobe.com/support/chc/GetMoreHelpFeatures.png"/>
</a>
</p>
<script type="text/javascript" language="javascript" charset="utf-8">
<!--
var cfgArray = [];
//cfgArray["Acrobat_10.0_Professional.helpcfg"] = "acrobatpro";
//cfgArray["Acrobat_10.0_Standard.helpcfg"] = "acrobatstd";
cfgArray["Lightroom_3.0.helpcfg"] = "lightroom";
cfgArray["PhotoshopElements_8.0_Win.helpcfg"] = "photoshopelements";
cfgArray["PhotoshopElements_8.0_Mac.helpcfg"] = "photoshopelementsmac";
cfgArray["PremiereElements_8.0_Win.helpcfg"] = "premiereelements";

//cfgArray["AfterEffects_10.0.helpcfg"] = "aftereffects";
//cfgArray["AIR.helpcfg"] = "air";
//cfgArray["ColdFusionBuilder.helpcfg"] = "coldfusion";
//cfgArray["Contribute_6.0.helpcfg"] = "contribute";
//cfgArray["DeviceCentral_3.0.helpcfg"] = "devicecentral";
//cfgArray["Dreamweaver_11.0.helpcfg"] = "dreamweaver";
//cfgArray["EncoreDVD_5.0.helpcfg"] = "encore";
//cfgArray["ExtensionManager_3.0.helpcfg"] = "extension";
//cfgArray["Fireworks_11.0.helpcfg"] = "fireworks";
//cfgArray["Flash_11.0.helpcfg"] = "flash";
//cfgArray["Flex_4.0.helpcfg"] = "flashbuilder";
//cfgArray["FlashCatalyst_1.0.helpcfg"] = "flashcatalyst";
//cfgArray["Illustrator_15.0.helpcfg"] = "illustrator";
//cfgArray["InCopy_7.0.helpcfg"] = "incopy";
//cfgArray["InDesign_7.0.helpcfg"] = "indesign";
//cfgArray["OnLocation_5.0.helpcfg"] = "onlocation";
//cfgArray["Photoshop_12.0.helpcfg"] = "photoshop";
//cfgArray["PremierePro_5.0.helpcfg"] = "premierepro";

function getLangName() {
    var lang = "en-us";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if (ptn.test(lang)) {
        var languageCode = lang.replace(ptn, "$1");
        var countryCode = lang.replace(ptn, "$2");
        lang = languageCode + "_" + countryCode.toUpperCase();
    }
    return lang;
}

function getCountryName() {
    var lang = "";
    var metaElements = document.all ?
            document.all.tags('meta') :
            document.getElementsByTagName ?
            document.getElementsByTagName ('meta') : new Array();
    for (var m = 0; m < metaElements.length; m++) {
        if (metaElements[m].name == "lang") {
            lang = metaElements[m].content;
            break;
        }
    }
    var ptn = /(..)-(..)/;
    if ((ptn.test(lang)) && (lang != "en-us")) {
        var countryCode = lang.replace(ptn, "$2");
        return "/" + countryCode;
    }
    return "";
}

if ( (typeof(terms_HELPCFG) != 'undefined')  && (terms_HELPCFG.indexOf(".helpcfg") != -1) ) {
    var stage   = (document.location.href.indexOf(".stage.") != -1) ? 'stage.' : '';
    var baseUrl = 'http://www.' + stage + 'adobe.com';
    var refpage = document.location.href.replace(/#.*$/, '');
	
	if ((!use_robohelp_behavior) && (terms_HELPCFG.length > 0) && (typeof(cfgArray[terms_HELPCFG]) != 'undefined') && (cfgArray[terms_HELPCFG].length > 0)) {
		if (document.getElementById) { // DOM3 = IE5, NS6
			var newHref = baseUrl + getCountryName() + "/support/chc/" + "?helpcfg=http://help." + stage + "adobe.com/HelpCfg/" + getLangName() + "/" + terms_HELPCFG + "&url=" + refpage + "&product=" + cfgArray[terms_HELPCFG];
			var newSrc = baseUrl + getCountryName() + "/support/chc/GetMoreHelpFeatures.png";
			document.getElementById("chcPromo").style.display = "block";
			document.getElementById("chcLink").href = newHref;
			document.getElementById("chcImage").src = newSrc;
		}
	}
}

//-->
</script>


          <div id="minitoc">
           <div class="t">
            <div class="b">
             <div>
              <ul id="minitoc-links">
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7ee1">
                  <span class="topictitle1">
                   AIR security sandboxes and JavaScript code
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7f07">
                  <span class="topictitle1">
                   Loading application content into a non-application sandbox
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7f06">
                  <span class="topictitle1">
                   Setting up a sandbox bridge interface
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7ede">
                  <span class="topictitle1">
                   Establishing a child sandbox bridge
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7edd">
                  <span class="topictitle1">
                   Establishing a parent sandbox bridge
                  </span>
                 </a>
                </p>
               </li>
               <li>
                <p>
                 <a href="#WS5b3ccc516d4fbf351e63e3d118666ade46-7edc">
                  <span class="topictitle1">
                   Accessing a parent sandbox bridge during page loading
                  </span>
                 </a>
                </p>
               </li>
              </ul>
             </div>
            </div>
           </div>
          </div>
          <div>
           <p>
            The
runtime security model isolates code from different origins. By
cross-scripting content in different security sandboxes, you can
allow content in one security sandbox to access selected properties
and methods in another sandbox.
           </p>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7ee1">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7ee1">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            AIR security sandboxes and JavaScript code
           </h2>
           <div>
            <p>
             AIR
enforces a same-origin policy that prevents code in one domain from
interacting with content in another. All files are placed in a sandbox
based on their origin. Ordinarily, content in the application sandbox
cannot violate the same-origin principle and cross-script content
loaded from outside the application install directory. However,
AIR provides a few techniques that let you cross-script non-application
content.
            </p>
            <p>
             One technique uses frames or iframes to map application content
into a different security sandbox. Any pages loaded from the sandboxed
area of the application behave as if they were loaded from the remote
domain. For example, by mapping application content to the
             <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
              example.com
             </i>
             domain,
that content could cross-script pages loaded from example.com.
            </p>
            <p>
             Since this technique places the application content into a different
sandbox, code within that content is also no longer subject to the
restrictions on the execution of code in evaluated strings. You
can use this sandbox mapping technique to ease these restrictions
even when you don’t need to cross-script remote content. Mapping
content in this way can be especially useful when working with one
of the many JavaScript frameworks or with existing code that relies
on evaluating strings. However, you should consider and guard against
the additional risk that untrusted content could be injected and
executed when content is run outside the application sandbox.
            </p>
            <p>
             At the same time, application content mapped to another sandbox
loses its access to the AIR APIs, so the sandbox mapping technique
cannot be used to expose AIR functionality to code executed outside
the application sandbox.
            </p>
            <p>
             Another cross-scripting technique lets you create an interface
called a
             <i xmlns:fn="http://www.w3.org/2005/xpath-functions" xmlns:fo="http://www.w3.org/1999/XSL/Format" xmlns:xs="http://www.w3.org/2001/XMLSchema">
              sandbox bridge
             </i>
             between content in a non-application
sandbox and its parent document in the application sandbox. The
bridge allows the child content to access properties and methods
defined by the parent, the parent to access properties and methods
defined by the child, or both.
            </p>
            <p>
             Finally, you can also perform cross-domain XMLHttpRequests from
the application sandbox and, optionally, from other sandboxes.
            </p>
            <p>
             For more information, see
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7edb.html">
              HTML frame and iframe elements
             </a>
             ,
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f11.html">
              HTML security in Adobe AIR
             </a>
             , and
             <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7eb5.html">
              The XMLHttpRequest object
             </a>
             .
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7f07">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7f07">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Loading application content into a non-application sandbox
           </h2>
           <div>
            <p>
             To
allow application content to safely cross-script content loaded
from outside the application install directory, you can use
             <samp class="codeph">
              frame
             </samp>
             or
             <samp class="codeph">
              iframe
             </samp>
             elements
to load application content into the same security sandbox as the
external content. If you do not need to cross-script remote content,
but still wish to load a page of your application outside the application
sandbox, you can use the same technique, specifying
             <samp class="codeph">
              http://localhost/
             </samp>
             or
some other innocuous value, as the domain of origin.
            </p>
            <p>
             AIR adds the new attributes,
             <samp class="codeph">
              sandboxRoot
             </samp>
             and
             <samp class="codeph">
              documentRoot
             </samp>
             ,
to the frame element that allow you to specify whether an application
file loaded into the frame should be mapped to a non-application
sandbox. Files resolving to a path underneath the
             <samp class="codeph">
              sandboxRoot
             </samp>
             URL
are loaded instead from the
             <samp class="codeph">
              documentRoot
             </samp>
             directory.
For security purposes, the application content loaded in this way
is treated as if it was actually loaded from the
             <samp class="codeph">
              sandboxRoot
             </samp>
             URL.
            </p>
            <p>
             The
             <samp class="codeph">
              sandboxRoot
             </samp>
             property specifies the URL to
use for determining the sandbox and domain in which to place the
frame content. The
             <samp class="codeph">
              file:
             </samp>
             ,
             <samp class="codeph">
              http:
             </samp>
             ,
or
             <samp class="codeph">
              https:
             </samp>
             URL schemes must be used. If you specify
a relative URL, the content remains in the application sandbox.
            </p>
            <p>
             The
             <samp class="codeph">
              documentRoot
             </samp>
             property specifies the directory
from which to load the frame content. The
             <samp class="codeph">
              file:
             </samp>
             ,
             <samp class="codeph">
              app:
             </samp>
             ,
or
             <samp class="codeph">
              app-storage:
             </samp>
             URL schemes must be used.
            </p>
            <p>
             The following example maps content installed in the
             <samp class="codeph">
              sandbox
             </samp>
             subdirectory
of the application to run in the remote sandbox and the
             <samp class="codeph">
              www.example.com
             </samp>
             domain:
            </p>
            <pre>&lt;iframe 
    src="http://www.example.com/local/ui.html"  
    sandboxRoot="http://www.example.com/local/"  
    documentRoot="app:/sandbox/"&gt; 
&lt;/iframe&gt;</pre>
            <p>
             The
             <samp class="codeph">
              ui.html
             </samp>
             page could load a javascript file
from the local,
             <samp class="codeph">
              sandbox
             </samp>
             folder using the following
script tag:
            </p>
            <div class="para">
             <pre>&lt;script src="http://www.example.com/local/ui.js"&gt;&lt;/script&gt;</pre>
            </div>
            <p>
             It could also load content from a directory on the remote server
using a script tag such as the following:
            </p>
            <div class="para">
             <pre>&lt;script src="http://www.example.com/remote/remote.js"&gt;&lt;/script&gt;</pre>
            </div>
            <p>
             The
             <samp class="codeph">
              sandboxRoot
             </samp>
             URL will mask any content at
the same URL on the remote server. In the above example, you would
not be able to access any remote content at
             <samp class="codeph">
              www.example.com/local/
             </samp>
             (or
any of its subdirectories) because AIR remaps the request to the
local application directory. Requests are remapped whether they
derive from page navigation, from an XMLHttpRequest, or from any
other means of loading content.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7f06">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7f06">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Setting up a sandbox bridge interface
           </h2>
           <div>
            <p>
             You can use a sandbox bridge
when content in the application sandbox must access properties or
methods defined by content in a non-application sandbox, or when
non-application content must access properties and methods defined by
content in the application sandbox. Create a bridge with the
             <samp class="codeph">
              childSandboxBridge
             </samp>
             and
             <samp class="codeph">
              parentSandboxBridge
             </samp>
             properties
of the
             <samp class="codeph">
              window
             </samp>
             object of any child document.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7ede">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7ede">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Establishing a child sandbox bridge
           </h2>
           <div>
            <p>
             The
             <samp class="codeph">
              childSandboxBridge
             </samp>
             property allows the child
document to expose an interface to content in the parent document.
To expose an interface, you set the
             <samp class="codeph">
              childSandbox
             </samp>
             property
to a function or object in the child document. You can then access
the object or function from content in the parent document. The following
example shows how a script running in a child document can expose an
object containing a function and a property to its parent:
            </p>
            <pre>var interface = {}; 
interface.calculatePrice = function(){ 
    return ".45 cents"; 
} 
interface.storeID = "abc" 
window.childSandboxBridge = interface;</pre>
            <p>
             If this child content was loaded into an iframe assigned an id
of “child”, you could access the interface from parent content by
reading the
             <samp class="codeph">
              childSandboxBridge
             </samp>
             property of the
frame:
            </p>
            <pre>var childInterface = document.getElementById("child").contentWindow.childSandboxBridge; 
air.trace(childInterface.calculatePrice()); //traces ".45 cents" 
air.trace(childInterface.storeID)); //traces "abc"</pre>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7edd">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7edd">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Establishing a parent sandbox bridge
           </h2>
           <div>
            <p>
             The
             <samp class="codeph">
              parentSandboxBridge
             </samp>
             property allows the
parent document to expose an interface to content in a child document.
To expose an interface, the parent document sets the
             <samp class="codeph">
              parentSandbox
             </samp>
             property
of the child document to a function or object defined in the parent
document. You can then access the object or function from content
in the child. The following example shows how a script running in
a parent frame can expose an object containing a function to a child
document:
            </p>
            <pre>var interface = {}; 
interface.save = function(text){ 
    var saveFile = air.File("app-storage:/save.txt"); 
    //write text to file 
} 
document.getElementById("child").contentWindow.parentSandboxBridge = interface;</pre>
            <p>
             Using this interface, content in the child frame could save text
to a file named
             <samp class="codeph">
              save.txt
             </samp>
             , but would not have any
other access to the file system. The child content could call the
save function as follows:
            </p>
            <pre>var textToSave = "A string."; 
window.parentSandboxBridge.save(textToSave);</pre>
            <p>
             Application content should expose the narrowest interface possible
to other sandboxes. Non-application content should be considered
inherently untrustworthy since it may be subject to accidental or
malicious code injection. You must put appropriate safeguards in
place to prevent misuse of the interface you expose through the
parent sandbox bridge.
            </p>
           </div>
          </div>
          <div class="nochunk" id="WS5b3ccc516d4fbf351e63e3d118666ade46-7edc">
           <a name="WS5b3ccc516d4fbf351e63e3d118666ade46-7edc">
            <!-- -->
           </a>
           <h2 class="topictitle2">
            Accessing a parent sandbox bridge during page loading
           </h2>
           <div>
            <p>
             In order for a script in a child document to access a parent
sandbox bridge, the bridge must be set up before the script is run.
Window, frame and iframe objects dispatch a
             <samp class="codeph">
              dominitialize
             </samp>
             event
when a new page DOM has been created, but before any scripts have
been parsed, or DOM elements added. You can use the
             <samp class="codeph">
              dominitialize
             </samp>
             event
to establish the bridge early enough in the page construction sequence
that all scripts in the child document can access it.
            </p>
            <p>
             The following example illustrates how to create a parent sandbox
bridge in response to the
             <samp class="codeph">
              dominitialize
             </samp>
             event dispatched
from the child frame:
            </p>
            <pre>&lt;html&gt; 
&lt;head&gt; 
&lt;script&gt; 
var bridgeInterface = {}; 
bridgeInterface.testProperty = "Bridge engaged"; 
function engageBridge(){ 
    document.getElementById("sandbox").contentWindow.parentSandboxBridge = bridgeInterface; 
} 
&lt;/script&gt; 
&lt;/head&gt; 
&lt;body&gt; 
&lt;iframe id="sandbox" 
            src="http://www.example.com/air/child.html"  
            documentRoot="app:/" 
            sandboxRoot="http://www.example.com/air/" 
            ondominitialize="engageBridge()"/&gt; 
&lt;/body&gt; 
&lt;/html&gt;</pre>
            <p>
             The following
             <samp class="codeph">
              child.html
             </samp>
             document illustrates
how child content can access the parent sandbox bridge:
            </p>
            <pre>&lt;html&gt; 
    &lt;head&gt; 
        &lt;script&gt; 
            document.write(window.parentSandboxBridge.testProperty); 
        &lt;/script&gt;   
    &lt;/head&gt;   
    &lt;body&gt;&lt;/body&gt; 
&lt;/html&gt;</pre>
            <p>
             To listen for the
             <samp class="codeph">
              dominitialize
             </samp>
             event on a child
window, rather than a frame, you must add the listener to the new
child window object created by the
             <samp class="codeph">
              window.open()
             </samp>
             function:
            </p>
            <pre>var childWindow = window.open(); 
childWindow.addEventListener("dominitialize", engageBridge()); 
childWindow.document.location = "http://www.example.com/air/child.html";</pre>
            <p>
             In this case, there is no way to map application content into
a non-application sandbox. This technique is only useful when
             <samp class="codeph">
              child.html
             </samp>
             is
loaded from outside the application directory. You can still map
application content in the window to a non-application sandbox,
but you must first load an intermediate page that itself uses frames
to load the child document and map it to the desired sandbox.
            </p>
            <p>
             If you use the HTMLLoader class
             <samp class="codeph">
              createRootWindow()
             </samp>
             function
to create a window, the new window is not a child of the document
from which
             <samp class="codeph">
              createRootWindow()
             </samp>
             is called. Thus,
you cannot create a sandbox bridge from the calling window to non-application
content loaded into the new window. Instead, you must use load an
intermediate page in the new window that itself uses frames to load
the child document. You can then establish the bridge from the parent
document of the new window to the child document loaded into the
frame.
            </p>
           </div>
          </div>
          <!-- BEGIN USER PREFERENCES -->
          <div id="userprefs">
          </div>
          <!-- END USER PREFERENCES -->
          <div id="related">
           <div class="separator">
            <a href="#top">
             <img src="images/BTT.jpg"/>
            </a>
           </div>
          </div>
          <div id="footer">
           <!-- BEGIN IONCOMMENTS -->
           <div id="ionComHere">
           </div>
           <!-- END IONCOMMENTS -->
           

           <p id="creativecommons">
            <a href="http://creativecommons.org/licenses/by-nc-sa/3.0/" id="creativecommons_text">
             <img alt="This work is licensed under a Creative Commons Attribution-Noncommercial-Share Alike 3.0 Unported License" id="creativecommons_img" src="images/CC.png"/>
            </a>
            Twitter™ and Facebook posts are not covered under the terms of Creative Commons.
           </p>
          </div>
         </td>
         <td width="10px">
         </td>
         <td id="inner_rightcolumn">
          
         </td>
        </tr>
       </table>
      </div>
      <!-- BEGIN BREADCRUMBS -->
      <div id="breadcrumb">
       <ul class="navigation">
        <li class="prev">
         <a accesskey="p" class="prev" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7f09.html" title="Manipulating an HTML stylesheet from ActionScript">
          <img alt="Previous" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
        <li class="next">
         <a accesskey="n" class="next" href="WS5b3ccc516d4fbf351e63e3d118666ade46-7ebd.html" title="Scripting the AIR HTML Container">
          <img alt="Next" height="17" src="images/blank.gif" width="17"/>
         </a>
        </li>
       </ul>
       <div class="hierarchy" id="hierarchy">
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          Home
         </b>
        </a>
        /
        <a href="WS9936fa0d5984e93b3f4f38ec1272a447844-8000.html">
         <b>
          ActionScript 3.0 Developer’s Guide
         </b>
        </a>
        /
        <a href="WSd75bf4610ec9e22f-36d6e6212214a698a8-8000.html">
         <b>
          HTML content in Adobe AIR
         </b>
        </a>
        /
        <a href="WS5b3ccc516d4fbf351e63e3d118666ade46-7fa7.html">
         <b>
          Programming HTML and JavaScript in AIR
         </b>
        </a>
       </div>
      </div>
      <!-- END BREADCRUMBS -->
      <!-- END CONTENT WRAPPER -->
      
     </td>
     <td id="col3">
      <div>
       <img src="images/adobe-lq.png"/>
      </div>
     </td>
    </tr>
   </table>
  </div>
  <!-- END PAGE CONTENT WRAPPER -->
  <script type="text/javascript">
   <!--[CDATA[
scrollToNameAnchor();
// ]]-->
  </script>
  <!--
    Description:
    This file generates the link to product support in the top right corner
-->

<style>
#menutop{
    position:absolute;
    top:4px;
    right:24px;
    width:auto;    
    font-size:11px;
    color:#fff;
    text-align:right;
}
#menutop a{
    color:#fff;
}
#menutop a:hover{
        text-decoration:underline;
}
</style>  
  
  
  
  
<div id="productmenu">
<!--googleoff: index-->
  <div id="menutop">


<script language=javascript type='text/javascript'>
    // darken menu text for products with light backgrounds
    var path = document.location.href.toLowerCase();
    if (path.indexOf("/acrobat/")           	> 0 ||
        path.indexOf("/acrobat.com/")       	> 0 ||
        path.indexOf("/acrobatConnectPro/") 	> 0 ||
        path.indexOf("/connect/")           	> 0 ||
        path.indexOf("/framemaker/")           	> 0 ||
        path.indexOf("/livecycledataserviceses/") > 0 ||
        path.indexOf("/muse/")         	> 0 ||
		path.indexOf("/presenter/")         	> 0 ||
        path.indexOf("/scene7/")            	> 0 ||
        path.indexOf("/flashmediaserver/")  	> 0 ||
        path.indexOf("/wave/")              	> 0 )
    {
        document.write('<style>#menutop a{color:#505050}</style>');
    }
    if (typeof('terms_AHV_PRODUCT_SUPPORT') != "undefined" && ! use_robohelp_behavior ){      
        if (path.indexOf("/muse/") > -1 ){
            var supportlink = '<a href="http://muse.adobe.com/support.html">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }else{
            var supportlink = '<a href="http://adobe.com/support">'+terms_AHV_PRODUCT_SUPPORT+'</a>';
        }
        document.write( supportlink );
     }

</script> 

  </div>
<!--googleon: index-->
</div>



  <style>
#online-privacy-policy{ 
    margin:10px 40px; 
    font-size:11px;
}
</style>

<p id="online-privacy-policy">
<script language="javascript">
var pageLoc = "en_US";
var metaElements = document.all ?
document.all.tags('meta') :
document.getElementsByTagName ?
document.getElementsByTagName ('meta') : new Array();
for (var m = 0; m < metaElements.length; m++) {
	if (metaElements[m].name == "lang") {
		pageLoc = metaElements[m].content;
		break;
	}
}
var ptn = /(..)-(..)/;
if (ptn.test(pageLoc)) {
	var languageCode = pageLoc.replace(ptn, "$1");
	var countryCode = pageLoc.replace(ptn, "$2");
	pageLoc = languageCode + "_" + countryCode.toUpperCase();
}

var policyLoc = "en_US";
var policyText = "Online Privacy Policy";
var policyPath = "";
var policyArray=[
"da_DK", "Online fortrolighedserklæring",
"de_DE", "Online-Datenschutzrichtlinie",
"es_ES", "Política de confidencialidad en línea",
"fi_FI", "Yksityisyyttä koskeva Online-toimintaohjelma",
"fr_FR", "Confidentialité et sécurité",
"it_IT", "Informativa sulla privacy online",
"ja_JP", "プライバシーポリシー",
"ko_KR", "Adobe 온라인 개인정보 보호정책",
"pt_BR", "Política de Confidencialidade On-line", 
"zh_CN", "在线隐私政策",
"zh_TW", "線上隱私政策"
];
var legalLoc = "en_US";
var legalText = "Legal Notices";
var legalPath = legalLoc;
var legalArray=[
"ar_AE", "إشعارات قانونية",
"bg_BG", "Юридически бележки",
"cs_CZ", "Právní upozornění",
"da_DK", "Juridiske meddelelser",
"de_DE", "Rechtliche Hinweise",
"el_GR", "Σημειώσεις νομικού περιεχομένου",
"es_ES", "Avisos legales",
"et_EE", "Juriidilised teated",
"fi_FI", "Lakisääteiset ilmoitukset",
"fr_FR", "Mentions légales",
"he_IL", "הצהרות משפטיות",
"hr_HR", "Pravne napomene",
"hu_HU", "Jogi közlemények",
"it_IT", "Informazioni legali",
"ja_JP", "法律上の注意",
"ko_KR", "법적 고지 사항",
"lt_LT", "Teisinės pastabos",
"lv_LV", "Juridisks paziņojums",
"nb_NO", "Juridiske merknader",
"nl_NL", "Juridische kennisgevingen",
"pl_PL", "Informacje prawne",
"pt_BR", "Aspectos jurídicos",
"ro_RO", "Prevederi legale",
"ru_RU", "Юридическая информация",
"sk_SK", "Právne upozornenie",
"sl_SI", "Pravni pouk",
"sv_SE", "Upphovsrätt",
"tr_TR", "Yasal uyarılar",
"uk_UA", "Юридична інформація",
"zh_CN", "法律声明",
"zh_TW", "法律注意事項"
];

ruPolicy = "http://www.adobe.com/ru/misc/privacy.html";
trPolicy = "http://www.adobe.com/tr/misc/privacy.html";

// Bug 2846992: LOC: RUS, TUR: The link to "Online Privacy Policy" should include language, currently it is not appearing.
if (pageLoc == "ru_RU") {
	policyPath = "ru";
}
else if (pageLoc == "tr_TR") {
	policyPath = "tr";
}
for (var i = 0; i < policyArray.length; i+=2) {
	if (pageLoc == policyArray[i]) {
		policyLoc = pageLoc;
		policyText = policyArray[i+1];
		var ptn = /(..)_(..)/;
		if (ptn.test(policyLoc)) {
			var countryCode = policyLoc.replace(ptn, "$2");
			policyPath = countryCode.toLowerCase();
		}
		break;
	}
}

for (var i = 0; i < legalArray.length; i+=2) {
	if (pageLoc == legalArray[i]) {
		legalLoc = pageLoc;
		legalText = legalArray[i+1];
		legalPath = legalLoc;
		break;
	}
}
if(agt.indexOf("community help client") > -1 ){
	document.write('<a href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
}else{
	//Open the privacy policy in a new window
	document.write('<a target="_blank" href="/'+legalPath+'/legalnotices/index.html">'+legalText+'<\/a>');
	document.write(' | ');
	document.write('<a target="_blank" href="http://www.adobe.com/'+policyPath+'/misc/privacy.html">'+policyText+'<\/a>');
} 


remove_all_cookies();

function remove_all_cookies() {
	var res = document.cookie;
    var multiple = res.split(";");
    for(var i = 0; i < multiple.length; i++) {
    	var key = multiple[i].split("=");
        document.cookie = key[0]+" =; expires = Thu, 01 Jan 1970 00:00:00 UTC";
    }
}


</script>
</p>


  
<!-- localfooter.ssi -->

<script type="text/javascript">
    var debug = (top.location.href.indexOf("debug=true") > -1);
</script>

<script language="javascript">
document.write('<scr'+'ipt ' +
               'src="/en_US/ssi/_pod.js" ' +
               'language="javascript" ' +
               'charset="UTF-8"> ' +
               '</scr'+'ipt>');
</script>

//  Ethnio survey code removed
  
  
 </body>
</html>